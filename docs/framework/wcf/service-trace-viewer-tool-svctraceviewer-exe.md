---
title: 服务跟踪查看器工具 (SvcTraceViewer.exe)
description: 使用服务跟踪查看器可以在日志中合并、查看和筛选跟踪消息，以便能够诊断、修复和验证 WCF 服务问题。
ms.date: 03/30/2017
ms.assetid: 9027efd3-df8d-47ed-8bcd-f53d55ed803c
ms.openlocfilehash: 0ad6094965291a965346522688a8334abbd4e6b3
ms.sourcegitcommit: 358a28048f36a8dca39a9fe6e6ac1f1913acadd5
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 06/23/2020
ms.locfileid: "85244564"
---
# <a name="service-trace-viewer-tool-svctraceviewerexe"></a><span data-ttu-id="e90ad-103">服务跟踪查看器工具 (SvcTraceViewer.exe)</span><span class="sxs-lookup"><span data-stu-id="e90ad-103">Service Trace Viewer Tool (SvcTraceViewer.exe)</span></span>

<span data-ttu-id="e90ad-104">Windows Communication Foundation （WCF）服务跟踪查看器工具可帮助您分析 WCF 生成的诊断跟踪。</span><span class="sxs-lookup"><span data-stu-id="e90ad-104">Windows Communication Foundation (WCF) Service Trace Viewer Tool helps you analyze diagnostic traces that are generated by WCF.</span></span> <span data-ttu-id="e90ad-105">服务跟踪查看器提供了一种方法，用于在日志中轻松地合并、查看和筛选跟踪消息，以便您可以诊断、修复和验证 WCF 服务问题。</span><span class="sxs-lookup"><span data-stu-id="e90ad-105">Service Trace Viewer provides a way to easily merge, view, and filter trace messages in the log so that you can diagnose, repair, and verify WCF service issues.</span></span>

## <a name="configuring-tracing"></a><span data-ttu-id="e90ad-106">配置跟踪</span><span class="sxs-lookup"><span data-stu-id="e90ad-106">Configuring Tracing</span></span>

<span data-ttu-id="e90ad-107">诊断跟踪提供的信息显示了应用程序操作过程中所发生的情况。</span><span class="sxs-lookup"><span data-stu-id="e90ad-107">Diagnostic traces provide you with information that shows what is happening throughout your application's operation.</span></span> <span data-ttu-id="e90ad-108">顾名思义，您可以从操作来源跟踪操作直至目标，也可以通过中间点进行跟踪。</span><span class="sxs-lookup"><span data-stu-id="e90ad-108">As the name implies, you can follow operations from their source to destination and through intermediate points as well.</span></span>

<span data-ttu-id="e90ad-109">你可以使用应用程序的配置文件（Web.config 用于 Web 托管的应用程序）或自承载应用程序的*Appname*.config 配置跟踪。</span><span class="sxs-lookup"><span data-stu-id="e90ad-109">You can configure tracing using the application’s configuration file—either Web.config for Web-hosted applications, or *Appname*.config for self-hosted applications.</span></span> <span data-ttu-id="e90ad-110">下面是一个示例：</span><span class="sxs-lookup"><span data-stu-id="e90ad-110">The following is an example:</span></span>

```xml
<system.diagnostics>
    <trace autoflush="true" />
    <sources>
            <source name="System.ServiceModel"
                    switchValue="Information, ActivityTracing"
                    propagateActivity="true">
            <listeners>
               <add name="sdt"
                   type="System.Diagnostics.XmlWriterTraceListener"
                   initializeData= "SdrConfigExample.e2e" />
            </listeners>
         </source>
    </sources>
</system.diagnostics>
```

<span data-ttu-id="e90ad-111">在此示例中，指定了跟踪侦听器的名称和类型。</span><span class="sxs-lookup"><span data-stu-id="e90ad-111">In this example, the name and type of the trace listener is specified.</span></span> <span data-ttu-id="e90ad-112">将侦听器命名为 `sdt` 并作为类型添加了标准 .NET Framework 跟踪侦听器 (System.Diagnostics.XmlWriterTraceListener)。</span><span class="sxs-lookup"><span data-stu-id="e90ad-112">The Listener is named `sdt` and the standard .NET Framework trace listener (System.Diagnostics.XmlWriterTraceListener) is added as the type.</span></span> <span data-ttu-id="e90ad-113">`initializeData`属性用于将该侦听器的日志文件的名称设置为 `SdrConfigExample.e2e` 。</span><span class="sxs-lookup"><span data-stu-id="e90ad-113">The `initializeData` attribute is used to set the name of the log file for that Listener to be `SdrConfigExample.e2e`.</span></span> <span data-ttu-id="e90ad-114">对于该日志文件，还可以用一个简单文件名来替换完全限定路径。</span><span class="sxs-lookup"><span data-stu-id="e90ad-114">For the log file, you can substitute a fully-qualified path for a simple file name.</span></span>

<span data-ttu-id="e90ad-115">此示例在名为 SdrConfigExample.e2e 的根目录中创建一个文件。</span><span class="sxs-lookup"><span data-stu-id="e90ad-115">The example creates a file in the root directory called SdrConfigExample.e2e.</span></span> <span data-ttu-id="e90ad-116">使用跟踪查看器打开文件（如 "打开和查看 WCF 跟踪文件" 一节中所述）时，可以看到所有已发送的消息。</span><span class="sxs-lookup"><span data-stu-id="e90ad-116">When you use the Trace Viewer to open the file as described in the "Opening and Viewing WCF Trace Files" section, you can see all the messages that have been sent.</span></span>

<span data-ttu-id="e90ad-117">跟踪级别由 `switchValue` 设置控制。</span><span class="sxs-lookup"><span data-stu-id="e90ad-117">The tracing level is controlled by the `switchValue` setting.</span></span> <span data-ttu-id="e90ad-118">下表中描述了可用的跟踪级别。</span><span class="sxs-lookup"><span data-stu-id="e90ad-118">The available tracing levels are described in the following table.</span></span>

|<span data-ttu-id="e90ad-119">跟踪级别</span><span class="sxs-lookup"><span data-stu-id="e90ad-119">Trace Level</span></span>|<span data-ttu-id="e90ad-120">说明</span><span class="sxs-lookup"><span data-stu-id="e90ad-120">Description</span></span>|
|-----------------|-----------------|
|<span data-ttu-id="e90ad-121">严重</span><span class="sxs-lookup"><span data-stu-id="e90ad-121">Critical</span></span>|<span data-ttu-id="e90ad-122">-记录故障-快速、事件日志条目和跟踪相关性信息。</span><span class="sxs-lookup"><span data-stu-id="e90ad-122">-   Logs Fail-Fast and Event Log entries, and trace correlation information.</span></span> <span data-ttu-id="e90ad-123">下面是何时可使用“严重”级别的一些示例：</span><span class="sxs-lookup"><span data-stu-id="e90ad-123">The following are some examples of when you might use the Critical level:</span></span><br /><span data-ttu-id="e90ad-124">-由于出现未经处理的异常，AppDomain 中断。</span><span class="sxs-lookup"><span data-stu-id="e90ad-124">-   Your AppDomain went down because of an unhandled exception.</span></span><br /><span data-ttu-id="e90ad-125">-你的应用程序无法启动。</span><span class="sxs-lookup"><span data-stu-id="e90ad-125">-   Your application fails to start.</span></span><br /><span data-ttu-id="e90ad-126">-导致失败的消息源自 MyApp.exe 进程。</span><span class="sxs-lookup"><span data-stu-id="e90ad-126">-   The message that caused the failure originated from the process MyApp.exe.</span></span>|
|<span data-ttu-id="e90ad-127">错误</span><span class="sxs-lookup"><span data-stu-id="e90ad-127">Error</span></span>|<span data-ttu-id="e90ad-128">-记录所有异常。</span><span class="sxs-lookup"><span data-stu-id="e90ad-128">-   Logs all exceptions.</span></span> <span data-ttu-id="e90ad-129">在下列情况下可以使用“错误”级别：</span><span class="sxs-lookup"><span data-stu-id="e90ad-129">You can use the Error level in the following situations:</span></span><br /><span data-ttu-id="e90ad-130">-由于无效强制转换异常，代码崩溃。</span><span class="sxs-lookup"><span data-stu-id="e90ad-130">-   Your code crashed because of an Invalid Cast Exception.</span></span><br /><span data-ttu-id="e90ad-131">-如果 "无法创建终结点" 异常，则会导致应用程序在启动时失败。</span><span class="sxs-lookup"><span data-stu-id="e90ad-131">-   A "failed to create endpoint" exception is causing your application to fail on startup.</span></span>|
|<span data-ttu-id="e90ad-132">警告</span><span class="sxs-lookup"><span data-stu-id="e90ad-132">Warning</span></span>|<span data-ttu-id="e90ad-133">-存在可能导致错误或严重故障的情况。</span><span class="sxs-lookup"><span data-stu-id="e90ad-133">-   A condition exists that may subsequently result in an error or critical failure.</span></span> <span data-ttu-id="e90ad-134">在下列情况下可使用此级别：</span><span class="sxs-lookup"><span data-stu-id="e90ad-134">You can use this level in the following situations:</span></span><br /><span data-ttu-id="e90ad-135">-应用程序收到的请求数超过了限制设置所允许的数目。</span><span class="sxs-lookup"><span data-stu-id="e90ad-135">-   The application is receiving more requests than its throttling settings allows.</span></span><br /><span data-ttu-id="e90ad-136">-接收队列的配置容量为98%。</span><span class="sxs-lookup"><span data-stu-id="e90ad-136">-   The receiving queue is at 98 percent of its configured capacity.</span></span>|
|<span data-ttu-id="e90ad-137">信息</span><span class="sxs-lookup"><span data-stu-id="e90ad-137">Information</span></span>|<span data-ttu-id="e90ad-138">-会生成有助于监视和诊断系统状态、测量性能或分析的消息。</span><span class="sxs-lookup"><span data-stu-id="e90ad-138">-   Messages helpful for monitoring and diagnosing system status, measuring performance, or profiling are generated.</span></span> <span data-ttu-id="e90ad-139">可以使用此类信息规划容量和管理性能。</span><span class="sxs-lookup"><span data-stu-id="e90ad-139">You can utilize such information for capacity planning and performance management.</span></span> <span data-ttu-id="e90ad-140">在下列情况下可使用此级别：</span><span class="sxs-lookup"><span data-stu-id="e90ad-140">You can use this level in the following situations:</span></span><br /><span data-ttu-id="e90ad-141">-消息到达 AppDomain 并被反序列化后出现错误。</span><span class="sxs-lookup"><span data-stu-id="e90ad-141">-   A failure occurred after the message reached the AppDomain and was deserialized.</span></span><br /><span data-ttu-id="e90ad-142">-创建 HTTP 绑定时发生失败。</span><span class="sxs-lookup"><span data-stu-id="e90ad-142">-   A failure occurred while the HTTP binding was being created.</span></span>|
|<span data-ttu-id="e90ad-143">“详细”</span><span class="sxs-lookup"><span data-stu-id="e90ad-143">Verbose</span></span>|<span data-ttu-id="e90ad-144">-对用户代码和服务的调试级别跟踪。</span><span class="sxs-lookup"><span data-stu-id="e90ad-144">-   Debug-level tracing for both user code and servicing.</span></span> <span data-ttu-id="e90ad-145">在下列情况下设置此级别：</span><span class="sxs-lookup"><span data-stu-id="e90ad-145">Set this level when:</span></span><br /><span data-ttu-id="e90ad-146">-不确定发生错误时调用了代码中的哪个方法。</span><span class="sxs-lookup"><span data-stu-id="e90ad-146">-   You are not sure which method in your code was called when the failure occurred.</span></span><br /><span data-ttu-id="e90ad-147">-你配置了不正确的终结点，并且服务无法启动，因为保留存储中的条目已锁定。</span><span class="sxs-lookup"><span data-stu-id="e90ad-147">-   You have an incorrect endpoint configured and the service failed to start because the entry in the reservation store is locked.</span></span>|
|<span data-ttu-id="e90ad-148">活动跟踪</span><span class="sxs-lookup"><span data-stu-id="e90ad-148">ActivityTracing</span></span>|<span data-ttu-id="e90ad-149">处理活动与组件之间的流事件。</span><span class="sxs-lookup"><span data-stu-id="e90ad-149">Flow events between processing activities and components.</span></span><br /><br /> <span data-ttu-id="e90ad-150">此级别允许管理员和开发人员关联同一应用程序域中的各应用程序。</span><span class="sxs-lookup"><span data-stu-id="e90ad-150">This level allows administrators and developers to correlate applications in the same application domain.</span></span><br /><br /> <span data-ttu-id="e90ad-151">-活动边界跟踪：启动/停止。</span><span class="sxs-lookup"><span data-stu-id="e90ad-151">-   Traces for activity boundaries: start/stop.</span></span><br /><span data-ttu-id="e90ad-152">-传输跟踪。</span><span class="sxs-lookup"><span data-stu-id="e90ad-152">-   Traces for transfers.</span></span>|

 <span data-ttu-id="e90ad-153">可以使用 `add` 指定要使用的跟踪侦听器的名称和类型。</span><span class="sxs-lookup"><span data-stu-id="e90ad-153">You can use `add` to specify the name and type of the trace listener you want to use.</span></span> <span data-ttu-id="e90ad-154">在示例配置中，将侦听器命名为 `sdt` 并作为类型添加了标准 .NET Framework 跟踪侦听器 (`System.Diagnostics.XmlWriterTraceListener`)。</span><span class="sxs-lookup"><span data-stu-id="e90ad-154">In the example configuration, the Listener is named `sdt` and the standard .NET Framework trace listener (`System.Diagnostics.XmlWriterTraceListener`) is added as the type.</span></span> <span data-ttu-id="e90ad-155">使用 `initializeData` 设置该侦听器的日志文件的名称。</span><span class="sxs-lookup"><span data-stu-id="e90ad-155">Use `initializeData` to set the name of the log file for that Listener.</span></span> <span data-ttu-id="e90ad-156">此外，还可以用一个简单文件名来替换完全限定路径。</span><span class="sxs-lookup"><span data-stu-id="e90ad-156">In addition, you can substitute a fully-qualified path for a simple file name.</span></span>

<span data-ttu-id="e90ad-157">从 .NET Framework 4.8 开始，某些高对比度主题中的 ComboBox 控件以正确的颜色显示。</span><span class="sxs-lookup"><span data-stu-id="e90ad-157">Starting in .NET Framework 4.8, ComboBox controls in some high contrast themes are displayed in the correct color.</span></span> <span data-ttu-id="e90ad-158">可以通过从*svcTraceViewer.exe.config*文件中删除以下设置来禁用此更改：</span><span class="sxs-lookup"><span data-stu-id="e90ad-158">You can disable this change by removing the following setting from the *svcTraceViewer.exe.config* file:</span></span>

```xml
<AppContextSwitchOverrides value="Switch.UseLegacyAccessibilityFeatures=false;Switch.UseLegacyAccessibilityFeatures.2=false" />
```

## <a name="using-the-service-trace-viewer-tool"></a><span data-ttu-id="e90ad-159">使用服务跟踪查看器工具</span><span class="sxs-lookup"><span data-stu-id="e90ad-159">Using the Service Trace Viewer Tool</span></span>

### <a name="opening-and-viewing-wcf-trace-files"></a><span data-ttu-id="e90ad-160">打开并查看 WCF 跟踪文件</span><span class="sxs-lookup"><span data-stu-id="e90ad-160">Opening and Viewing WCF Trace Files</span></span>

<span data-ttu-id="e90ad-161">服务跟踪查看器支持三种文件类型：</span><span class="sxs-lookup"><span data-stu-id="e90ad-161">The Service Trace Viewer supports three file types:</span></span>

- <span data-ttu-id="e90ad-162">WCF 跟踪文件（. .Svclog）</span><span class="sxs-lookup"><span data-stu-id="e90ad-162">WCF Tracing File (.svcLog)</span></span>

- <span data-ttu-id="e90ad-163">事件跟踪文件 (.etl)</span><span class="sxs-lookup"><span data-stu-id="e90ad-163">Event Tracing File (.etl)</span></span>

- <span data-ttu-id="e90ad-164">Crimson 跟踪文件</span><span class="sxs-lookup"><span data-stu-id="e90ad-164">Crimson Tracing File</span></span>

 <span data-ttu-id="e90ad-165">通过服务跟踪查看器，可以打开任何受支持的跟踪文件、添加和集成附加跟踪文件，或同时打开和合并一组跟踪文件。</span><span class="sxs-lookup"><span data-stu-id="e90ad-165">Service Trace Viewer enables you to open any supported trace file, add and integrate additional trace files, or open and merge a group of trace files simultaneously.</span></span>

##### <a name="to-open-a-trace-file"></a><span data-ttu-id="e90ad-166">打开跟踪文件</span><span class="sxs-lookup"><span data-stu-id="e90ad-166">To open a trace file</span></span>

1. <span data-ttu-id="e90ad-167">使用命令窗口导航到 WCF 安装位置（C:\Program Files\Microsoft SDKs\Windows\v6.0\Bin），然后键入，启动服务跟踪查看器 `SvcTraceViewer.exe` 。</span><span class="sxs-lookup"><span data-stu-id="e90ad-167">Start Service Trace Viewer by using a command window to navigate to your WCF installation location (C:\Program Files\Microsoft SDKs\Windows\v6.0\Bin), and then type `SvcTraceViewer.exe`.</span></span>

> [!NOTE]
> <span data-ttu-id="e90ad-168">服务跟踪查看器工具可与两种文件类型关联：.svclog 和 .stvproj。</span><span class="sxs-lookup"><span data-stu-id="e90ad-168">The Service Trace Viewer tool can associate with two file types: .svclog and .stvproj.</span></span> <span data-ttu-id="e90ad-169">在命令行中，可以使用两个参数来注册和注销文件扩展名。</span><span class="sxs-lookup"><span data-stu-id="e90ad-169">You can use two parameters in command line to register and unregister the file extensions.</span></span>
>
> <span data-ttu-id="e90ad-170">/register：将文件扩展名“.svclog”和“.stvproj”注册为与 SvcTraceViewer.exe 相关联</span><span class="sxs-lookup"><span data-stu-id="e90ad-170">/register: register the association of file extensions ".svclog" and ".stvproj" with SvcTraceViewer.exe</span></span>
>
> <span data-ttu-id="e90ad-171">/unregister：注销文件扩展名“.svclog”和“.stvproj”与 SvcTraceViewer.exe 的关联</span><span class="sxs-lookup"><span data-stu-id="e90ad-171">/unregister: unregister the association of file extensions ".svclog" and ".stvproj" with SvcTraceViewer.exe</span></span>

1. <span data-ttu-id="e90ad-172">当服务跟踪查看器启动时，单击 "**文件**"，然后指向 "**打开**"。</span><span class="sxs-lookup"><span data-stu-id="e90ad-172">When Service Trace Viewer starts, click **File** and then point to **Open**.</span></span> <span data-ttu-id="e90ad-173">定位到跟踪文件的存储位置。</span><span class="sxs-lookup"><span data-stu-id="e90ad-173">Navigate to the location where your trace files are stored.</span></span>

2. <span data-ttu-id="e90ad-174">双击要打开的跟踪文件。</span><span class="sxs-lookup"><span data-stu-id="e90ad-174">Double-click the trace file that you want to open.</span></span>

    > [!NOTE]
    > <span data-ttu-id="e90ad-175">按住 Shift 的同时单击多个跟踪文件，可以同时选中并打开这些文件。</span><span class="sxs-lookup"><span data-stu-id="e90ad-175">Press SHIFT while clicking multiple trace files to select and open them simultaneously.</span></span> <span data-ttu-id="e90ad-176">服务跟踪查看器合并所有文件的内容并显示为一个视图。</span><span class="sxs-lookup"><span data-stu-id="e90ad-176">Service Trace Viewer merges the content of all files and presents one view.</span></span> <span data-ttu-id="e90ad-177">例如，可以同时打开客户端和服务的跟踪文件。</span><span class="sxs-lookup"><span data-stu-id="e90ad-177">For example, you can open trace files of both client and service.</span></span> <span data-ttu-id="e90ad-178">如果在配置中已启用消息日志记录和活动传播，则此功能十分有用。</span><span class="sxs-lookup"><span data-stu-id="e90ad-178">This is useful when you have enabled message logging and activity propagation in configuration.</span></span> <span data-ttu-id="e90ad-179">通过这种方式，可以检查客户端和服务之间的消息交换。</span><span class="sxs-lookup"><span data-stu-id="e90ad-179">In this way, you can examine message exchange between client and service.</span></span> <span data-ttu-id="e90ad-180">还可以将多个文件拖动到查看器中，或使用 "**项目**" 选项卡。有关更多详细信息，请参阅管理项目部分。</span><span class="sxs-lookup"><span data-stu-id="e90ad-180">You can also drag multiple files into the viewer, or use the **Project** tab. See the Managing Project section for more details.</span></span>

3. <span data-ttu-id="e90ad-181">若要将其他跟踪文件添加到打开的集合，请单击 "**文件**"，然后指向 "**添加**"。</span><span class="sxs-lookup"><span data-stu-id="e90ad-181">To add additional trace files to the collection that is open, click **File** and then point to **Add**.</span></span> <span data-ttu-id="e90ad-182">在打开的窗口中，定位到跟踪文件的位置，然后双击要添加的文件。</span><span class="sxs-lookup"><span data-stu-id="e90ad-182">In the window that opens, navigate to the location of the trace files and double-click the file you want to add.</span></span>

> [!CAUTION]
> <span data-ttu-id="e90ad-183">建议不要加载大于 200MB 的跟踪日志文件。</span><span class="sxs-lookup"><span data-stu-id="e90ad-183">It is not recommended that you load a trace log file bigger than 200MB.</span></span> <span data-ttu-id="e90ad-184">如果尝试加载大于此限制的文件，加载过程可能要花很长时间，具体情况取决于计算机资源。</span><span class="sxs-lookup"><span data-stu-id="e90ad-184">If you attempt to load a file larger than this limit, the loading process may take a long time, depending on your computer resource.</span></span> <span data-ttu-id="e90ad-185">服务跟踪查看器工具可能会长时间没有响应，或者该工具可能会耗尽计算机的内存。</span><span class="sxs-lookup"><span data-stu-id="e90ad-185">The Service Trace Viewer tool may not be responsive for a long time, or it may exhaust your machine's memory.</span></span> <span data-ttu-id="e90ad-186">建议配置部分加载以避免这种情况。</span><span class="sxs-lookup"><span data-stu-id="e90ad-186">It is recommended that you configure partial loading to avoid this.</span></span> <span data-ttu-id="e90ad-187">有关如何进行此配置的更多信息，请参见“加载大型跟踪文件”一节。</span><span class="sxs-lookup"><span data-stu-id="e90ad-187">For more information on how to do this, see "Loading Large Trace Files" section.</span></span>

#### <a name="event-tracing-and-crimson-tracing"></a><span data-ttu-id="e90ad-188">事件跟踪和 Crimson 跟踪</span><span class="sxs-lookup"><span data-stu-id="e90ad-188">Event Tracing and Crimson Tracing</span></span>

<span data-ttu-id="e90ad-189">查看器的本机格式是 WCF 发出的活动跟踪格式。</span><span class="sxs-lookup"><span data-stu-id="e90ad-189">The viewer’s native format is the activity tracing format that WCF emits.</span></span> <span data-ttu-id="e90ad-190">对于以其他格式发出的跟踪，必须先进行转换，这样查看器才会显示它们。</span><span class="sxs-lookup"><span data-stu-id="e90ad-190">Traces emitted in a different format must be converted before the viewer displays them.</span></span> <span data-ttu-id="e90ad-191">目前，除了活动跟踪格式之外，查看器还支持事件跟踪和 crimson 跟踪。</span><span class="sxs-lookup"><span data-stu-id="e90ad-191">Currently, in addition to the activity tracing format, the viewer supports event tracing and crimson tracing.</span></span>

<span data-ttu-id="e90ad-192">打开不包含活动跟踪的文件时，查看器会尝试转换该文件。</span><span class="sxs-lookup"><span data-stu-id="e90ad-192">When you open a file that does not contain activity traces, the viewer attempts to convert the file.</span></span> <span data-ttu-id="e90ad-193">必须为将包含转换后的跟踪数据的文件指定名称和位置。</span><span class="sxs-lookup"><span data-stu-id="e90ad-193">You must specify the name and location of the file that will contain the converted trace data.</span></span> <span data-ttu-id="e90ad-194">数据转换完毕，查看器即会显示新文件的内容。</span><span class="sxs-lookup"><span data-stu-id="e90ad-194">Once the data has been converted, the viewer displays the content of the new file.</span></span>

> [!NOTE]
> <span data-ttu-id="e90ad-195">转换需要磁盘空间来存储转换后的跟踪数据。</span><span class="sxs-lookup"><span data-stu-id="e90ad-195">Conversion requires disk space to store the converted trace data.</span></span> <span data-ttu-id="e90ad-196">开始转换之前，请确保有足够的可用磁盘空间来存储数据。</span><span class="sxs-lookup"><span data-stu-id="e90ad-196">Make sure you have enough disk space available to store the data before you start a conversion.</span></span> <span data-ttu-id="e90ad-197">否则，转换将失败。</span><span class="sxs-lookup"><span data-stu-id="e90ad-197">Otherwise, the conversion fails.</span></span>

### <a name="managing-projects"></a><span data-ttu-id="e90ad-198">管理项目</span><span class="sxs-lookup"><span data-stu-id="e90ad-198">Managing Projects</span></span>

<span data-ttu-id="e90ad-199">查看器支持项目，以便查看多个跟踪文件。</span><span class="sxs-lookup"><span data-stu-id="e90ad-199">The viewer supports projects to facilitate viewing multiple trace files.</span></span> <span data-ttu-id="e90ad-200">例如，如果有客户端跟踪文件和服务跟踪文件，可以将它们添加到项目中。</span><span class="sxs-lookup"><span data-stu-id="e90ad-200">For example, if you have a client trace file and a service trace file, you can add them to a project.</span></span> <span data-ttu-id="e90ad-201">之后，每次打开该项目时，都会同时加载项目中的所有跟踪文件。</span><span class="sxs-lookup"><span data-stu-id="e90ad-201">Then, every time you open the project, all the trace files in the project are loaded simultaneously.</span></span>

<span data-ttu-id="e90ad-202">有两种管理项目的方法：</span><span class="sxs-lookup"><span data-stu-id="e90ad-202">There are two ways to manage projects:</span></span>

- <span data-ttu-id="e90ad-203">在 "**文件**" 菜单中，可以打开、保存和关闭项目。</span><span class="sxs-lookup"><span data-stu-id="e90ad-203">In the **File** menu, you can open, save and close projects.</span></span>

- <span data-ttu-id="e90ad-204">在 "**项目**" 选项卡中，你可以将文件添加到项目。</span><span class="sxs-lookup"><span data-stu-id="e90ad-204">In the **Project** tab, you can add files to a project.</span></span>

### <a name="viewing-wcf-traces"></a><span data-ttu-id="e90ad-205">查看 WCF 跟踪</span><span class="sxs-lookup"><span data-stu-id="e90ad-205">Viewing WCF Traces</span></span>

<span data-ttu-id="e90ad-206">WCF 使用活动跟踪格式发出跟踪。</span><span class="sxs-lookup"><span data-stu-id="e90ad-206">WCF emits traces using the activity tracing format.</span></span> <span data-ttu-id="e90ad-207">在活动跟踪模型中，各个跟踪按其目的在活动中进行分组。</span><span class="sxs-lookup"><span data-stu-id="e90ad-207">In the activity tracing model, individual traces are grouped in activities according to their purpose.</span></span> <span data-ttu-id="e90ad-208">逻辑控制流在活动之间传输。</span><span class="sxs-lookup"><span data-stu-id="e90ad-208">Logical control flow is transferred between activities.</span></span> <span data-ttu-id="e90ad-209">例如，在应用程序的生存期中，许多“消息发送活动”会出现和消失。</span><span class="sxs-lookup"><span data-stu-id="e90ad-209">For example, during the lifetime of an application, many "message send activities" appear and disappear.</span></span> <span data-ttu-id="e90ad-210">有关查看跟踪和活动以及服务跟踪查看器的用户界面的详细信息，请参阅[使用服务跟踪查看器查看相关跟踪和故障排除](./diagnostics/tracing/using-service-trace-viewer-for-viewing-correlated-traces-and-troubleshooting.md)。</span><span class="sxs-lookup"><span data-stu-id="e90ad-210">For more information on viewing traces and activities, and the user interface of the Service Trace Viewer too, see [Using Service Trace Viewer for Viewing Correlated Traces and Troubleshooting](./diagnostics/tracing/using-service-trace-viewer-for-viewing-correlated-traces-and-troubleshooting.md).</span></span>

#### <a name="switching-to-different-views"></a><span data-ttu-id="e90ad-211">切换到不同视图</span><span class="sxs-lookup"><span data-stu-id="e90ad-211">Switching to Different Views</span></span>

<span data-ttu-id="e90ad-212">服务跟踪查看器提供下列不同的视图。</span><span class="sxs-lookup"><span data-stu-id="e90ad-212">The Service Trace Viewer provides the following different views.</span></span> <span data-ttu-id="e90ad-213">它们在查看器的左窗格中显示为选项卡，还可以从 "**视图**" 菜单访问。</span><span class="sxs-lookup"><span data-stu-id="e90ad-213">They are displayed as tabs on the left pane of the Viewer, and can also be accessed from the **View** menu.</span></span>

- <span data-ttu-id="e90ad-214">活动视图</span><span class="sxs-lookup"><span data-stu-id="e90ad-214">Activity View</span></span>

- <span data-ttu-id="e90ad-215">项目视图</span><span class="sxs-lookup"><span data-stu-id="e90ad-215">Project View</span></span>

- <span data-ttu-id="e90ad-216">消息视图</span><span class="sxs-lookup"><span data-stu-id="e90ad-216">Message View</span></span>

- <span data-ttu-id="e90ad-217">图形视图</span><span class="sxs-lookup"><span data-stu-id="e90ad-217">Graph View</span></span>

##### <a name="activity-view"></a><span data-ttu-id="e90ad-218">活动视图</span><span class="sxs-lookup"><span data-stu-id="e90ad-218">Activity view</span></span>

<span data-ttu-id="e90ad-219">打开跟踪文件后，可以看到分组到活动中并显示在左侧窗格中的**活动**视图中的跟踪。</span><span class="sxs-lookup"><span data-stu-id="e90ad-219">Once the trace files are opened, you can see the traces grouped into activities and displayed in the **Activity** view in the left-hand pane.</span></span>

<span data-ttu-id="e90ad-220">**活动**视图显示活动名称、活动中的跟踪数、持续时间、开始时间和结束时间。</span><span class="sxs-lookup"><span data-stu-id="e90ad-220">The **Activity** view displays activity names, number of traces in the activity, duration time, start time and end time.</span></span>

<span data-ttu-id="e90ad-221">单击所列出的任一活动，该活动中的跟踪都会显示在右侧跟踪窗格中。</span><span class="sxs-lookup"><span data-stu-id="e90ad-221">By clicking any of the listed activities, the traces in this activity are displayed in the trace pane on the right.</span></span> <span data-ttu-id="e90ad-222">然后，选择一个跟踪即可查看其详细信息。</span><span class="sxs-lookup"><span data-stu-id="e90ad-222">You can then select a trace to view its details.</span></span>

<span data-ttu-id="e90ad-223">可以通过按**Ctrl**或**Shift**键并单击所需的活动来选择多个活动。</span><span class="sxs-lookup"><span data-stu-id="e90ad-223">You can select multiple activities by pressing the **Ctrl** or **Shift** key and clicking the desired activities.</span></span> <span data-ttu-id="e90ad-224">跟踪窗格显示所选活动的所有跟踪。</span><span class="sxs-lookup"><span data-stu-id="e90ad-224">The trace pane displays all the traces of the selected activities.</span></span>

<span data-ttu-id="e90ad-225">您可以双击某个活动以便在**图形**视图中显示该活动。</span><span class="sxs-lookup"><span data-stu-id="e90ad-225">You can double-click an activity to display it in **Graph** View.</span></span> <span data-ttu-id="e90ad-226">另一种方法是选择活动，然后切换到**图形**视图。</span><span class="sxs-lookup"><span data-stu-id="e90ad-226">The alternative way is to select an activity and switch to **Graph** View.</span></span>

> [!NOTE]
> <span data-ttu-id="e90ad-227">活动 "000000000000" 是无法在图形视图中显示的特殊活动。</span><span class="sxs-lookup"><span data-stu-id="e90ad-227">The activity "000000000000" is a special activity that cannot be displayed in the Graph View.</span></span> <span data-ttu-id="e90ad-228">因为所有其他活动都与它链接，因此显示此活动会严重影响性能。</span><span class="sxs-lookup"><span data-stu-id="e90ad-228">Because all other activities are linked to it, displaying this activity has a severe performance impact.</span></span>

<span data-ttu-id="e90ad-229">单击列标题可以对活动列表进行排序。</span><span class="sxs-lookup"><span data-stu-id="e90ad-229">You can click the column title to sort the activity list.</span></span> <span data-ttu-id="e90ad-230">包含警告跟踪的活动具有黄色背景，而包含错误跟踪的活动具有红色背景。</span><span class="sxs-lookup"><span data-stu-id="e90ad-230">Activities that contain warning traces have a yellow background and those that contain error traces have a red one.</span></span>

<span data-ttu-id="e90ad-231">活动具有不同的类型，每种类型都与每个活动左侧的一个图标相对应。</span><span class="sxs-lookup"><span data-stu-id="e90ad-231">There are different types of activities and each type corresponds to an icon on the left side of each activity.</span></span> <span data-ttu-id="e90ad-232">要了解其含义，可以参阅“了解跟踪图标”一节。</span><span class="sxs-lookup"><span data-stu-id="e90ad-232">You can refer to the Understanding Trace Icons section for their meaning.</span></span>

##### <a name="project-view"></a><span data-ttu-id="e90ad-233">项目视图</span><span class="sxs-lookup"><span data-stu-id="e90ad-233">Project View</span></span>

<span data-ttu-id="e90ad-234">在此视图中，可以管理当前项目中的跟踪文件。</span><span class="sxs-lookup"><span data-stu-id="e90ad-234">This view enables you to manage trace files in the current project.</span></span> <span data-ttu-id="e90ad-235">有关详细信息，请参见“管理项目”一节。</span><span class="sxs-lookup"><span data-stu-id="e90ad-235">See the Managing Project section for more details.</span></span>

##### <a name="message-view"></a><span data-ttu-id="e90ad-236">消息视图</span><span class="sxs-lookup"><span data-stu-id="e90ad-236">Message View</span></span>

<span data-ttu-id="e90ad-237">此视图使您能够查看所有消息日志跟踪，包括操作、日期/时间、进程、活动以及 From/To，并导航到关联的消息日志跟踪的详细信息。</span><span class="sxs-lookup"><span data-stu-id="e90ad-237">This view enables you to view all message log traces, including Action, Date/Time, Process, Acivity and From/To, and navigate to the details of the associated message log trace.</span></span> <span data-ttu-id="e90ad-238">可以按活动边界、进程/线程或发送 & 接收对消息日志跟踪进行分组，以便更轻松地导航消息流。</span><span class="sxs-lookup"><span data-stu-id="e90ad-238">You can group the message log traces by Activity Boundary, Process/Thread, or Send & Receive for easier navigation of the message flow.</span></span>

##### <a name="graph-view"></a><span data-ttu-id="e90ad-239">图形视图</span><span class="sxs-lookup"><span data-stu-id="e90ad-239">Graph View</span></span>

<span data-ttu-id="e90ad-240">此视图以图表形式显示给定活动的跟踪数据。</span><span class="sxs-lookup"><span data-stu-id="e90ad-240">This view displays the trace data for a given activity in chart form.</span></span> <span data-ttu-id="e90ad-241">通过图表形式，可以查看事件的逐步执行过程，可以查看当数据在多个活动之间移动时活动之间的相互关系。</span><span class="sxs-lookup"><span data-stu-id="e90ad-241">The chart form enables you to see the stepwise execution of events and the interrelationships between multiple activities as data moves between them.</span></span>

<span data-ttu-id="e90ad-242">若要切换到 "**图形**" 视图，请在 "**活动**" 视图中选择一个活动，并单击 "**活动**" 选项卡，或者在**消息**视图中单击消息日志跟踪。</span><span class="sxs-lookup"><span data-stu-id="e90ad-242">To switch to **Graph** view, select an activity in the **Activity** view and click the **Activity** tab, or a message log trace in the **Message** View.</span></span> <span data-ttu-id="e90ad-243">如果加载了多个跟踪文件，并且活动涉及来自多个文件的跟踪，则所有相关的跟踪都会显示在“图形”视图中。</span><span class="sxs-lookup"><span data-stu-id="e90ad-243">If multiple trace files are loaded and the activity involves traces from more than one file, all of the relevant traces appear in the graph view.</span></span> <span data-ttu-id="e90ad-244">双击活动和消息日志跟踪还会将您转到**图形**视图。</span><span class="sxs-lookup"><span data-stu-id="e90ad-244">Double-clicking on the activities and message log traces also leads you to the **Graph** view.</span></span>

<span data-ttu-id="e90ad-245">在**图形**视图中，每个垂直列都表示一个活动，列中的每个块都表示一个跟踪。</span><span class="sxs-lookup"><span data-stu-id="e90ad-245">In **Graph** view, each vertical column represents an activity, and each block in the column represents a trace.</span></span> <span data-ttu-id="e90ad-246">活动按进程（或线程）分组。</span><span class="sxs-lookup"><span data-stu-id="e90ad-246">The activities are grouped by process (or thread).</span></span> <span data-ttu-id="e90ad-247">活动之间的小箭头表示传输。</span><span class="sxs-lookup"><span data-stu-id="e90ad-247">The small arrows between activities represent transfers.</span></span> <span data-ttu-id="e90ad-248">进程之间的大箭头表示消息交换。</span><span class="sxs-lookup"><span data-stu-id="e90ad-248">The big arrows between processes represent message exchange.</span></span> <span data-ttu-id="e90ad-249">选定的活动始终为黄色。</span><span class="sxs-lookup"><span data-stu-id="e90ad-249">The activity in selection is always in yellow.</span></span>

###### <a name="selecting-traces-in-the-graph"></a><span data-ttu-id="e90ad-250">在图形中选择跟踪</span><span class="sxs-lookup"><span data-stu-id="e90ad-250">Selecting Traces in the Graph</span></span>

1. <span data-ttu-id="e90ad-251">单击图形中的某个块。</span><span class="sxs-lookup"><span data-stu-id="e90ad-251">Click a block in the graph.</span></span>

2. <span data-ttu-id="e90ad-252">使用向上键和向下键选择其相邻的跟踪。</span><span class="sxs-lookup"><span data-stu-id="e90ad-252">Use the up and down keys to select its neighboring traces.</span></span>

3. <span data-ttu-id="e90ad-253">查看“跟踪窗格”和“详细信息窗格”中的跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="e90ad-253">Observe the trace information in the Trace Pane and Detail Pane.</span></span>

###### <a name="expanding-or-collapsing-activity-transfers"></a><span data-ttu-id="e90ad-254">展开或折叠活动传输</span><span class="sxs-lookup"><span data-stu-id="e90ad-254">Expanding or Collapsing Activity Transfers</span></span>

<span data-ttu-id="e90ad-255">当选定的活动传输到另一个活动时，可以展开活动传输。</span><span class="sxs-lookup"><span data-stu-id="e90ad-255">You can expand activity transfers when the activity in selection transfers out to another activity.</span></span> <span data-ttu-id="e90ad-256">这样可以追踪这些传输。</span><span class="sxs-lookup"><span data-stu-id="e90ad-256">It enables you to follow the transfers.</span></span>

<span data-ttu-id="e90ad-257">若要展开或折叠活动传输，</span><span class="sxs-lookup"><span data-stu-id="e90ad-257">To expand or collapse activity transfers,</span></span>

1. <span data-ttu-id="e90ad-258">使用传输图标左侧的 "+" 号定位传输跟踪。</span><span class="sxs-lookup"><span data-stu-id="e90ad-258">Locate the transfer trace with a "+" sign on the left of the transfer icon.</span></span>

2. <span data-ttu-id="e90ad-259">单击 "+"，或使用键盘按**Ctrl**和 "+"。</span><span class="sxs-lookup"><span data-stu-id="e90ad-259">Click the "+", or press **Ctrl** and "+" using the keyboard.</span></span>

3. <span data-ttu-id="e90ad-260">下一个活动出现在图形中。</span><span class="sxs-lookup"><span data-stu-id="e90ad-260">The next activity appears in the graph.</span></span>

4. <span data-ttu-id="e90ad-261">"-" 将显示在 "传输" 图标的左侧。</span><span class="sxs-lookup"><span data-stu-id="e90ad-261">A "-" appears on the left of the transfer icon.</span></span> <span data-ttu-id="e90ad-262">单击 "-" 号或按 Ctrl 和 "-"，会折叠活动传输。</span><span class="sxs-lookup"><span data-stu-id="e90ad-262">Click the "-" sign or press Ctrl and "-", the activity transfer collapses.</span></span>

> [!NOTE]
> <span data-ttu-id="e90ad-263">当活动具有多个到它的传输时，如果展开其中一个传输，则会显示从根活动到新活动的活动。</span><span class="sxs-lookup"><span data-stu-id="e90ad-263">When an activity has multiple transfers into it and you expand one of the transfers, activities that lead up to the new activity from the root activity are displayed.</span></span> <span data-ttu-id="e90ad-264">这些新活动以折叠形式显示。</span><span class="sxs-lookup"><span data-stu-id="e90ad-264">These new activities appear in collapsed form.</span></span> <span data-ttu-id="e90ad-265">如果希望查看这些活动的详细信息，请在图形标题中单击展开图标将它们垂直展开。</span><span class="sxs-lookup"><span data-stu-id="e90ad-265">If you want to see the details of these activities, expand them vertically by clicking the expand icon in the header of the graph.</span></span>

###### <a name="expanding-or-collapsing-activities-vertically"></a><span data-ttu-id="e90ad-266">垂直展开或折叠活动</span><span class="sxs-lookup"><span data-stu-id="e90ad-266">Expanding or Collapsing Activities Vertically</span></span>

<span data-ttu-id="e90ad-267">查看器通过折叠活动在活动图形中隐藏不必要的详细信息。</span><span class="sxs-lookup"><span data-stu-id="e90ad-267">The viewer hides unnecessary detail in the activity graph by collapsing activities.</span></span> <span data-ttu-id="e90ad-268">在折叠的活动中，不会显示各个跟踪。</span><span class="sxs-lookup"><span data-stu-id="e90ad-268">In a collapsed activity, individual traces are not displayed.</span></span> <span data-ttu-id="e90ad-269">只会显示传输跟踪。</span><span class="sxs-lookup"><span data-stu-id="e90ad-269">Only transfers trace appear.</span></span> <span data-ttu-id="e90ad-270">如果想要查看活动中的所有跟踪，可通过单击图形标题中该活动的展开符号将活动垂直展开。</span><span class="sxs-lookup"><span data-stu-id="e90ad-270">If you want to view all traces in an activity, expand the activity vertically by clicking the expand symbol of the activity in the header of the graph.</span></span>

<span data-ttu-id="e90ad-271">若要垂直展开或折叠活动，</span><span class="sxs-lookup"><span data-stu-id="e90ad-271">To expand or collapse activities vertically,</span></span>

1. <span data-ttu-id="e90ad-272">单击活动标题中的 "+" 图标可垂直展开活动。</span><span class="sxs-lookup"><span data-stu-id="e90ad-272">Click the "+" icon in the activity header to expand the activity vertically.</span></span>

2. <span data-ttu-id="e90ad-273">请注意，所有跟踪都显示在图形中。</span><span class="sxs-lookup"><span data-stu-id="e90ad-273">Notice that all traces are displayed in the graph.</span></span>

3. <span data-ttu-id="e90ad-274">单击活动标题中的 "-" 图标可垂直折叠活动。</span><span class="sxs-lookup"><span data-stu-id="e90ad-274">Click the "-" icon in the activity header to collapse the activity vertically.</span></span>

4. <span data-ttu-id="e90ad-275">请注意，活动中仅显示重要的传输、消息日志、警告和异常跟踪。</span><span class="sxs-lookup"><span data-stu-id="e90ad-275">Notice that only important transfers, message logs, warning and exception traces are shown in the activity.</span></span>

###### <a name="options"></a><span data-ttu-id="e90ad-276">选项</span><span class="sxs-lookup"><span data-stu-id="e90ad-276">Options</span></span>

<span data-ttu-id="e90ad-277">您可以从图形视图的**选项**菜单中选择两个选项。</span><span class="sxs-lookup"><span data-stu-id="e90ad-277">You can select two options from the **Option** menu in Graph view.</span></span>

- <span data-ttu-id="e90ad-278">显示活动边界跟踪：如果未选中此选项，则忽略图形中的活动边界跟踪。</span><span class="sxs-lookup"><span data-stu-id="e90ad-278">Show Activity Boundary Traces, which when unchecked ignore the activity boundary traces in the graph.</span></span>

- <span data-ttu-id="e90ad-279">显示非消息详细跟踪：如果未选中此选项，则忽略除消息跟踪以外的其他详细级别跟踪。</span><span class="sxs-lookup"><span data-stu-id="e90ad-279">Show Non-message Verbose Traces, which when unchecked ignore verbose level traces, except for message traces.</span></span> <span data-ttu-id="e90ad-280">大多数情况下，详细级别的跟踪对于分析不是十分重要。</span><span class="sxs-lookup"><span data-stu-id="e90ad-280">In most cases, verbose level traces are less important for analysis.</span></span> <span data-ttu-id="e90ad-281">如果不希望分析详细级别的跟踪，而只想关注更重要的跟踪，则此选项十分有用。</span><span class="sxs-lookup"><span data-stu-id="e90ad-281">This option is helpful when you do not want to analyze verbose level traces and only want to focus on more important traces.</span></span>

###### <a name="layout-mode"></a><span data-ttu-id="e90ad-282">布局模式</span><span class="sxs-lookup"><span data-stu-id="e90ad-282">Layout Mode</span></span>

<span data-ttu-id="e90ad-283">查看器具有两种布局模式： "**进程**" 和 "**线程**"。</span><span class="sxs-lookup"><span data-stu-id="e90ad-283">The viewer has two Layout Modes: **Process** and **Thread**.</span></span> <span data-ttu-id="e90ad-284">此设置定义最大组织单位。</span><span class="sxs-lookup"><span data-stu-id="e90ad-284">This setting defines the largest unit of organization.</span></span> <span data-ttu-id="e90ad-285">默认的布局模式是 "**进程**"，这意味着活动会按关系图中的进程进行分组。</span><span class="sxs-lookup"><span data-stu-id="e90ad-285">The default Layout Mode is **Process**, which means that activities are grouped by processes in the graph.</span></span>

###### <a name="execution-list"></a><span data-ttu-id="e90ad-286">执行列表</span><span class="sxs-lookup"><span data-stu-id="e90ad-286">Execution List</span></span>

<span data-ttu-id="e90ad-287">从该下拉列表中，可以选择要在图形中显示的进程或线程。</span><span class="sxs-lookup"><span data-stu-id="e90ad-287">You can select which process or thread to be displayed in the graph from this drop-down list.</span></span> <span data-ttu-id="e90ad-288">例如，如果有两个客户端（A 和 B）的跟踪文件，并且打开了一个服务，而您只想在图形中显示该服务和客户端 A，则可以从列表中取消选择客户端 B。</span><span class="sxs-lookup"><span data-stu-id="e90ad-288">For example, if you have the trace files of two clients (A and B) and one service opened, and you only want to display the service and client A in the graph, you can deselect client B from the list.</span></span>

#### <a name="viewing-trace-details"></a><span data-ttu-id="e90ad-289">查看跟踪详细信息</span><span class="sxs-lookup"><span data-stu-id="e90ad-289">Viewing Trace Details</span></span>

<span data-ttu-id="e90ad-290">若要查看某个跟踪的详细信息，请在“跟踪”窗格中选择该跟踪。</span><span class="sxs-lookup"><span data-stu-id="e90ad-290">To view a trace detail, select a trace in the Trace pane.</span></span> <span data-ttu-id="e90ad-291">详细信息显示在“详细信息”窗格中。</span><span class="sxs-lookup"><span data-stu-id="e90ad-291">The details are displayed in the Detail pane.</span></span>

##### <a name="trace-pane"></a><span data-ttu-id="e90ad-292">跟踪窗格</span><span class="sxs-lookup"><span data-stu-id="e90ad-292">Trace Pane</span></span>

<span data-ttu-id="e90ad-293">服务跟踪查看器中的右上窗格为“跟踪”窗格。</span><span class="sxs-lookup"><span data-stu-id="e90ad-293">The upper right pane in the Service Trace Viewer is the Trace Pane.</span></span> <span data-ttu-id="e90ad-294">它列出了所选活动中的所有跟踪以及附加信息，例如跟踪级别、线程 ID 和进程名称。</span><span class="sxs-lookup"><span data-stu-id="e90ad-294">It lists all the traces in the selected activity with extra information, for example, trace level, thread ID, and process name.</span></span>

<span data-ttu-id="e90ad-295">右键单击跟踪，然后选择 "**将跟踪复制到剪贴板**"，可以将跟踪的原始 XML 复制到剪贴板。</span><span class="sxs-lookup"><span data-stu-id="e90ad-295">You can copy the raw XML of the trace to the clipboard by right-clicking a trace and selecting **Copy Trace to Clipboard**.</span></span>

##### <a name="detail-pane"></a><span data-ttu-id="e90ad-296">“详细信息”窗格</span><span class="sxs-lookup"><span data-stu-id="e90ad-296">Detail Pane</span></span>

<span data-ttu-id="e90ad-297">服务跟踪查看器的右下窗格为“详细信息”窗格。</span><span class="sxs-lookup"><span data-stu-id="e90ad-297">The bottom left pane in the Service Trace Viewer is the Detail Pane.</span></span> <span data-ttu-id="e90ad-298">它提供三个选项卡来查看跟踪的详细信息。</span><span class="sxs-lookup"><span data-stu-id="e90ad-298">It provides three tabs to view trace details.</span></span>

<span data-ttu-id="e90ad-299">**格式化**视图以更有条理的方式显示信息。</span><span class="sxs-lookup"><span data-stu-id="e90ad-299">The **Formatted** view displays the information in a more organized way.</span></span> <span data-ttu-id="e90ad-300">它以表和树的形式列出所有已知的 XML 元素，使得信息的读取和理解更加容易。</span><span class="sxs-lookup"><span data-stu-id="e90ad-300">It lists all known XML elements in tables and trees, making it easier to read and understand the information.</span></span>

<span data-ttu-id="e90ad-301">**Xml**视图显示对应于所选跟踪的 xml。</span><span class="sxs-lookup"><span data-stu-id="e90ad-301">The **XML** view displays XML corresponding to the selected trace.</span></span> <span data-ttu-id="e90ad-302">它支持突出显示和语法着色。</span><span class="sxs-lookup"><span data-stu-id="e90ad-302">It supports highlighting and syntax color.</span></span> <span data-ttu-id="e90ad-303">使用 "**查找**" 搜索字符串时，将突出显示搜索结果。</span><span class="sxs-lookup"><span data-stu-id="e90ad-303">When you use **Find** to search strings, it highlights the search results.</span></span>

<span data-ttu-id="e90ad-304">**消息**视图在消息日志跟踪中显示 XML 的消息部分。</span><span class="sxs-lookup"><span data-stu-id="e90ad-304">The **Message** view displays the message part of the XML in message log traces.</span></span> <span data-ttu-id="e90ad-305">选择非消息跟踪时，该视图不可见。</span><span class="sxs-lookup"><span data-stu-id="e90ad-305">It is invisible when you select a non-message trace.</span></span>

### <a name="filtering-wcf-traces"></a><span data-ttu-id="e90ad-306">筛选 WCF 跟踪</span><span class="sxs-lookup"><span data-stu-id="e90ad-306">Filtering WCF Traces</span></span>

<span data-ttu-id="e90ad-307">若要使跟踪的分析更加容易，可以通过以下方式对其进行筛选：</span><span class="sxs-lookup"><span data-stu-id="e90ad-307">To make the analysis of trace easier, you can filter them in the following ways:</span></span>

- <span data-ttu-id="e90ad-308">筛选器工具栏提供对预定义筛选器和自定义筛选器的访问。</span><span class="sxs-lookup"><span data-stu-id="e90ad-308">The filter toolbar provides access to pre-defined and custom filters.</span></span> <span data-ttu-id="e90ad-309">可以通过 "**视图**" 菜单启用此功能。</span><span class="sxs-lookup"><span data-stu-id="e90ad-309">It can be enabled through the **View** menu.</span></span>

- <span data-ttu-id="e90ad-310">查看器的预定义筛选器可用于有选择地筛选 WCF 跟踪的各个部分。</span><span class="sxs-lookup"><span data-stu-id="e90ad-310">The pre-defined filter of the viewer can be used to selectively filter parts of the WCF traces.</span></span> <span data-ttu-id="e90ad-311">默认情况下，此筛选器设置为允许所有基础结构跟踪通过。</span><span class="sxs-lookup"><span data-stu-id="e90ad-311">By default, it is set to allow all infrastructure traces to pass through.</span></span> <span data-ttu-id="e90ad-312">此筛选器的设置在 "**视图**" 菜单下的 "**筛选器选项**" 子菜单中定义。</span><span class="sxs-lookup"><span data-stu-id="e90ad-312">The settings of this filter are defined in the **Filter Options** sub-menu under **View** menu.</span></span>

- <span data-ttu-id="e90ad-313">自定义 XPath 筛选器赋予用户对筛选的完全控制权。</span><span class="sxs-lookup"><span data-stu-id="e90ad-313">Custom XPath filters give users full control over filtering.</span></span> <span data-ttu-id="e90ad-314">它们可在 "**视图**" 菜单下的**自定义筛选器**中定义。</span><span class="sxs-lookup"><span data-stu-id="e90ad-314">They can be defined in the **Custom Filter** under **View** menu.</span></span>

<span data-ttu-id="e90ad-315">仅显示通过所有筛选器的跟踪。</span><span class="sxs-lookup"><span data-stu-id="e90ad-315">Only traces that passes through all filters is displayed.</span></span>

#### <a name="using-the-filter-toolbar"></a><span data-ttu-id="e90ad-316">使用筛选器工具栏</span><span class="sxs-lookup"><span data-stu-id="e90ad-316">Using the Filter Toolbar</span></span>

<span data-ttu-id="e90ad-317">筛选器工具栏显示在工具的顶部。</span><span class="sxs-lookup"><span data-stu-id="e90ad-317">The filter toolbar appears across the top of the tool.</span></span> <span data-ttu-id="e90ad-318">如果它不存在，可以在 "**视图**" 菜单中将其激活。</span><span class="sxs-lookup"><span data-stu-id="e90ad-318">If it is not present, you can activate it in the **View** menu.</span></span> <span data-ttu-id="e90ad-319">此工具栏具有三个组件：</span><span class="sxs-lookup"><span data-stu-id="e90ad-319">The bar has three components:</span></span>

- <span data-ttu-id="e90ad-320">查找：**查找**在筛选器操作中定义要查找的主题。</span><span class="sxs-lookup"><span data-stu-id="e90ad-320">Look for: **Look for** defines the subject to look for in the filter operation.</span></span> <span data-ttu-id="e90ad-321">例如，如果要查找在进程 X 的上下文中发出的所有跟踪，请将此字段设置为 X，并将 "**搜索范围**" 字段设置为 "进程名称"。</span><span class="sxs-lookup"><span data-stu-id="e90ad-321">For example, if you want to find all traces that were emitted in the context of process X, set this field to X and the **Search In** field to ‘Process Name’.</span></span> <span data-ttu-id="e90ad-322">如果选择了某个基于时间的筛选器，则此字段更改为 DateTime 选择器控件。</span><span class="sxs-lookup"><span data-stu-id="e90ad-322">This field changes to a DateTime selector control when a time-based filter is selected.</span></span>

- <span data-ttu-id="e90ad-323">搜索范围：此字段定义要应用的筛选器类型。</span><span class="sxs-lookup"><span data-stu-id="e90ad-323">Search in: This field defines the type of filter to apply.</span></span>

- <span data-ttu-id="e90ad-324">级别：级别设置定义筛选器允许的最小跟踪级别。</span><span class="sxs-lookup"><span data-stu-id="e90ad-324">Level: The level setting defines the minimum trace level allowed by the filter.</span></span> <span data-ttu-id="e90ad-325">例如，如果级别设置为“错误及严重错误”，则只会显示“错误”和“严重”级别的跟踪。</span><span class="sxs-lookup"><span data-stu-id="e90ad-325">For example, if the level is set to Error and Up, only traces at the Error and critical level are displayed.</span></span> <span data-ttu-id="e90ad-326">此筛选器与“查找”和“搜索范围”指定的条件结合使用。</span><span class="sxs-lookup"><span data-stu-id="e90ad-326">This filter combines with the criteria specified by Look For and Search In.</span></span>

<span data-ttu-id="e90ad-327">"**立即筛选**" 按钮启动筛选器操作。</span><span class="sxs-lookup"><span data-stu-id="e90ad-327">The **Filter Now** button starts the filter operation.</span></span> <span data-ttu-id="e90ad-328">某些筛选器，尤其是当它们应用于大型数据集时，需要很长时间才能完成操作。</span><span class="sxs-lookup"><span data-stu-id="e90ad-328">Some filters, especially when they are applied to a large data set, take a long time to complete.</span></span> <span data-ttu-id="e90ad-329">可以通过按 "**操作**" 菜单下状态栏中显示的 "**停止**" 按钮来取消筛选操作。</span><span class="sxs-lookup"><span data-stu-id="e90ad-329">You can cancel the filter operation by pressing the **Stop** button that appears in the status bar under the **Operations** menu.</span></span>

<span data-ttu-id="e90ad-330">"**清除**" 按钮可重置预定义和自定义筛选器，以允许所有跟踪通过。</span><span class="sxs-lookup"><span data-stu-id="e90ad-330">The **Clear** button resets pre-defined and custom filters to allow all traces to pass through.</span></span>

#### <a name="filter-options"></a><span data-ttu-id="e90ad-331">筛选器选项</span><span class="sxs-lookup"><span data-stu-id="e90ad-331">Filter Options</span></span>

<span data-ttu-id="e90ad-332">查看器可以自动从视图中移除 WCF 跟踪。</span><span class="sxs-lookup"><span data-stu-id="e90ad-332">The viewer can automatically remove WCF traces from the view.</span></span> <span data-ttu-id="e90ad-333">它可以有选择地移除由 WCF 的特定区域发出的跟踪，例如，从视图中移除与事务相关的跟踪。</span><span class="sxs-lookup"><span data-stu-id="e90ad-333">It can selectively remove traces emitted by specific areas of WCF, for example, removing transaction related traces from the view.</span></span>

<span data-ttu-id="e90ad-334">此筛选器的设置在 "**视图**" 菜单下的 "**筛选器选项**" 子菜单中定义。</span><span class="sxs-lookup"><span data-stu-id="e90ad-334">The settings of this filter are defined in the **Filter Options** sub-menu under **View** menu.</span></span>

#### <a name="custom-filters"></a><span data-ttu-id="e90ad-335">自定义筛选器</span><span class="sxs-lookup"><span data-stu-id="e90ad-335">Custom Filters</span></span>

<span data-ttu-id="e90ad-336">如果熟悉 XML 路径语言 (XPath)，则可以使用它来构造自定义筛选器，以便搜索任何相关的 XML 元素的跟踪数据。</span><span class="sxs-lookup"><span data-stu-id="e90ad-336">If you are familiar with the XML Path Language (XPath), you can use it to construct custom filters to search the trace data for any XML element of interest.</span></span> <span data-ttu-id="e90ad-337">可以通过筛选器工具栏访问这些筛选器。</span><span class="sxs-lookup"><span data-stu-id="e90ad-337">The filters are accessible through the filter toolbar.</span></span>

<span data-ttu-id="e90ad-338">自定义筛选器可以使用参数。</span><span class="sxs-lookup"><span data-stu-id="e90ad-338">Custom filters can include parameters.</span></span> <span data-ttu-id="e90ad-339">此外，还可以导入预先存在的自定义筛选器。</span><span class="sxs-lookup"><span data-stu-id="e90ad-339">You can also import pre-existing custom filters.</span></span>

##### <a name="creating-a-custom-filter"></a><span data-ttu-id="e90ad-340">创建自定义筛选器</span><span class="sxs-lookup"><span data-stu-id="e90ad-340">Creating a custom filter</span></span>

<span data-ttu-id="e90ad-341">可以通过两种方式创建筛选器：</span><span class="sxs-lookup"><span data-stu-id="e90ad-341">Filters can be created in two ways:</span></span>

###### <a name="creating-a-custom-filter-using-the-template-wizard"></a><span data-ttu-id="e90ad-342">使用模板向导创建自定义筛选器</span><span class="sxs-lookup"><span data-stu-id="e90ad-342">Creating a Custom Filter using the Template Wizard</span></span>

<span data-ttu-id="e90ad-343">可以单击现有跟踪并基于此跟踪的结构来创建筛选器。</span><span class="sxs-lookup"><span data-stu-id="e90ad-343">You can click an existing trace and create a filter based on the structure of the trace.</span></span> <span data-ttu-id="e90ad-344">此示例创建基于线程 ID 的自定义筛选器。</span><span class="sxs-lookup"><span data-stu-id="e90ad-344">This example creates a custom filter based on thread ID.</span></span>

1. <span data-ttu-id="e90ad-345">在查看器右上区域的跟踪窗格中，选择包含待筛选元素的跟踪。</span><span class="sxs-lookup"><span data-stu-id="e90ad-345">In the trace pane in the top right area of the viewer, select a trace that includes the element you want to filter for.</span></span>

2. <span data-ttu-id="e90ad-346">单击位于跟踪窗格顶部的 "**创建自定义筛选器**" 按钮。</span><span class="sxs-lookup"><span data-stu-id="e90ad-346">Click the **Create Custom Filter** button located at the top of the trace pane.</span></span>

3. <span data-ttu-id="e90ad-347">在出现的对话框中，输入筛选器名称。</span><span class="sxs-lookup"><span data-stu-id="e90ad-347">In the dialog box that appears, enter a name for your filter.</span></span> <span data-ttu-id="e90ad-348">在此示例中，输入 `Thread ID` 。</span><span class="sxs-lookup"><span data-stu-id="e90ad-348">In this example, enter `Thread ID`.</span></span> <span data-ttu-id="e90ad-349">此外，还可以提供筛选器说明。</span><span class="sxs-lookup"><span data-stu-id="e90ad-349">You can also provide a description of your filter.</span></span>

4. <span data-ttu-id="e90ad-350">左侧的树视图显示你在步骤 1 中选择的跟踪记录的结构。</span><span class="sxs-lookup"><span data-stu-id="e90ad-350">The tree view on the left displays the structure of the trace record you selected in step 1.</span></span> <span data-ttu-id="e90ad-351">通过浏览找到要为其创建条件的元素。</span><span class="sxs-lookup"><span data-stu-id="e90ad-351">Browse to the element you want to create a condition for.</span></span> <span data-ttu-id="e90ad-352">在此示例中，浏览到要在 XPath：节点中查找的 ThreadID /E2ETraceEvent/System/Execution/@ThreadID 。</span><span class="sxs-lookup"><span data-stu-id="e90ad-352">In this example, browse to the ThreadID to be located in the XPath: /E2ETraceEvent/System/Execution/@ThreadID node.</span></span> <span data-ttu-id="e90ad-353">在树视图中双击“ThreadID”属性。</span><span class="sxs-lookup"><span data-stu-id="e90ad-353">Double-click the ThreadID attribute in the tree view.</span></span> <span data-ttu-id="e90ad-354">这样可在对话框右侧为该属性创建一个表达式。</span><span class="sxs-lookup"><span data-stu-id="e90ad-354">This creates an expression for the attribute on the right of the dialog.</span></span>

5. <span data-ttu-id="e90ad-355">将 ThreadID 条件的参数字段从 "无" 更改为 " {0} "。</span><span class="sxs-lookup"><span data-stu-id="e90ad-355">Change the parameter field for the ThreadID condition from None to ‘{0}’.</span></span> <span data-ttu-id="e90ad-356">通过这一步骤，在应用筛选器时就可以配置 ThreadID 值。</span><span class="sxs-lookup"><span data-stu-id="e90ad-356">This step enables the ThreadID value to be configured when the filter is applied.</span></span> <span data-ttu-id="e90ad-357">（请参见“如何应用筛选器”一节）最多可以定义四个参数。</span><span class="sxs-lookup"><span data-stu-id="e90ad-357">(See the How to Apply a Filter section) You can define up to four parameters.</span></span> <span data-ttu-id="e90ad-358">条件是用“或”运算符组合在一起的。</span><span class="sxs-lookup"><span data-stu-id="e90ad-358">Conditions are combined using the OR operator.</span></span>

6. <span data-ttu-id="e90ad-359">单击 **"确定"** 以创建筛选器。</span><span class="sxs-lookup"><span data-stu-id="e90ad-359">Click **Ok** to create the filter.</span></span>

> [!NOTE]
> <span data-ttu-id="e90ad-360">使用模板向导创建筛选器后，只能手动对其进行编辑。</span><span class="sxs-lookup"><span data-stu-id="e90ad-360">Once a filter has been created using the template wizard, it can only be edited manually.</span></span> <span data-ttu-id="e90ad-361">对于以前创建的筛选器，将无法激活向导。</span><span class="sxs-lookup"><span data-stu-id="e90ad-361">It is not possible to activate the wizard for a filter that has been created previously.</span></span> <span data-ttu-id="e90ad-362">此外，在模板向导中创建的 XPath 筛选器的条件是用“或”运算符组合在一起的。</span><span class="sxs-lookup"><span data-stu-id="e90ad-362">In addition, the conditions of an XPath filter created in the template wizard are combined using the OR operator.</span></span> <span data-ttu-id="e90ad-363">如果需要“与”运算，可以在筛选器创建之后编辑筛选器表达式。</span><span class="sxs-lookup"><span data-stu-id="e90ad-363">If you require an AND operation, you can edit the filter expression after it has been created.</span></span>

###### <a name="creating-a-custom-filter-manually"></a><span data-ttu-id="e90ad-364">手动创建自定义筛选器</span><span class="sxs-lookup"><span data-stu-id="e90ad-364">Creating a Custom Filter Manually</span></span>

<span data-ttu-id="e90ad-365">利用“自定义筛选器”菜单可以手动输入 XPath 筛选器。</span><span class="sxs-lookup"><span data-stu-id="e90ad-365">The Custom Filters menu allows you to enter XPath filters manually.</span></span>

1. <span data-ttu-id="e90ad-366">在 "视图" 菜单中，单击 "**自定义筛选器**" 菜单项。</span><span class="sxs-lookup"><span data-stu-id="e90ad-366">In the View menu, click the **Custom Filters** menu item.</span></span>

2. <span data-ttu-id="e90ad-367">在出现的对话框中，单击 "**新建"。**</span><span class="sxs-lookup"><span data-stu-id="e90ad-367">In the dialog that appears, click **New.**</span></span>

3. <span data-ttu-id="e90ad-368">至少应指定筛选器名称和 XPath 表达式。</span><span class="sxs-lookup"><span data-stu-id="e90ad-368">At the minimum, specify a Filter Name and XPath expression.</span></span>

4. <span data-ttu-id="e90ad-369">单击“确定”。</span><span class="sxs-lookup"><span data-stu-id="e90ad-369">Click **OK**.</span></span>

###### <a name="applying-a-custom-filter"></a><span data-ttu-id="e90ad-370">应用自定义筛选器</span><span class="sxs-lookup"><span data-stu-id="e90ad-370">Applying a Custom Filter</span></span>

<span data-ttu-id="e90ad-371">创建了自定义筛选器后，可以通过筛选器工具栏来访问它。</span><span class="sxs-lookup"><span data-stu-id="e90ad-371">Once a custom filter has been created, it is accessible though the filter toolbar.</span></span> <span data-ttu-id="e90ad-372">在 "筛选器" 工具栏的 "**搜索范围**" 字段中，选择要应用的筛选器。</span><span class="sxs-lookup"><span data-stu-id="e90ad-372">Select the filter you want to apply in the **Search In** field of the filter toolbar.</span></span> <span data-ttu-id="e90ad-373">对上一示例，选择“Thread ID”。</span><span class="sxs-lookup"><span data-stu-id="e90ad-373">For the previous example, select ‘Thread ID’.</span></span>

1. <span data-ttu-id="e90ad-374">在 "**查找内容**" 字段中指定要查找的值。</span><span class="sxs-lookup"><span data-stu-id="e90ad-374">Specify the value you are looking for in the **Find What** field.</span></span> <span data-ttu-id="e90ad-375">在此示例中，输入要搜索的线程 ID。</span><span class="sxs-lookup"><span data-stu-id="e90ad-375">In our example, enter the ID of the thread you want to search for.</span></span>

2. <span data-ttu-id="e90ad-376">单击 "**立即筛选**"，然后观察操作的结果。</span><span class="sxs-lookup"><span data-stu-id="e90ad-376">Click **Filter Now**, and observe the result of the operation.</span></span>

<span data-ttu-id="e90ad-377">如果筛选器使用多个参数，请在 "**查找内容**" 字段中使用 ";" 作为分隔符来输入。</span><span class="sxs-lookup"><span data-stu-id="e90ad-377">If your filter uses multiple parameters, enter them using ‘;’ as a separator in the **Find What** field.</span></span> <span data-ttu-id="e90ad-378">例如，以下字符串定义 3 个参数：“1;findValue;text”。</span><span class="sxs-lookup"><span data-stu-id="e90ad-378">For example, the following string defines 3 parameters: ‘1;findValue;text’.</span></span> <span data-ttu-id="e90ad-379">查看器将 "1" 应用于 {0} 筛选器的参数。</span><span class="sxs-lookup"><span data-stu-id="e90ad-379">The viewer applies ‘1’ to the {0} parameter of the filter.</span></span> <span data-ttu-id="e90ad-380">"findValue" 和 "text" 分别应用于 {1} 和 {2} 。</span><span class="sxs-lookup"><span data-stu-id="e90ad-380">‘findValue’ and ‘text’ are applied to {1} and {2} respectively.</span></span>

###### <a name="sharing-custom-filters"></a><span data-ttu-id="e90ad-381">共享自定义筛选器</span><span class="sxs-lookup"><span data-stu-id="e90ad-381">Sharing custom Filters</span></span>

<span data-ttu-id="e90ad-382">可以在不同会话和不同用户之间共享自定义筛选器。</span><span class="sxs-lookup"><span data-stu-id="e90ad-382">Custom filters can be shared between different sessions and different users.</span></span> <span data-ttu-id="e90ad-383">可以将筛选器导出到一个定义文件，然后在另一个位置导入该文件。</span><span class="sxs-lookup"><span data-stu-id="e90ad-383">You can export the filters to a definition file and import this file at another location.</span></span>

 <span data-ttu-id="e90ad-384">导入自定义筛选器：</span><span class="sxs-lookup"><span data-stu-id="e90ad-384">To import a custom filter:</span></span>

1. <span data-ttu-id="e90ad-385">在 "**视图**" 菜单上，单击 "**自定义筛选器**"。</span><span class="sxs-lookup"><span data-stu-id="e90ad-385">In the **View** menu, click **Custom Filters**.</span></span>

2. <span data-ttu-id="e90ad-386">在打开的对话框中，单击 "**导入**" 按钮。</span><span class="sxs-lookup"><span data-stu-id="e90ad-386">In the dialog box that opens, click the **Import** button.</span></span>

3. <span data-ttu-id="e90ad-387">导航到自定义筛选器文件（. .stvcf），单击该文件，然后单击 "**打开**" 按钮。</span><span class="sxs-lookup"><span data-stu-id="e90ad-387">Navigate to the custom filter file (.stvcf), click the file, and click the **Open** button.</span></span>

<span data-ttu-id="e90ad-388">导出自定义筛选器：</span><span class="sxs-lookup"><span data-stu-id="e90ad-388">To export a custom filter:</span></span>

1. <span data-ttu-id="e90ad-389">在 "视图" 菜单上，单击 "**自定义筛选器**"。</span><span class="sxs-lookup"><span data-stu-id="e90ad-389">In the View menu, click **Custom Filters**.</span></span>

2. <span data-ttu-id="e90ad-390">在打开的对话框中选择要导出的筛选器。</span><span class="sxs-lookup"><span data-stu-id="e90ad-390">In the dialog box that opens, select the filter you want to export.</span></span>

3. <span data-ttu-id="e90ad-391">单击“导出”\*\*\*\* 按钮。</span><span class="sxs-lookup"><span data-stu-id="e90ad-391">Click the **Export** button.</span></span>

4. <span data-ttu-id="e90ad-392">指定自定义筛选器定义文件（. .stvcf）的名称和位置，然后单击 "**保存**" 按钮。</span><span class="sxs-lookup"><span data-stu-id="e90ad-392">Specify the name and location of the custom filter definition file (.stvcf), and click the **Save** button.</span></span>

> [!NOTE]
> <span data-ttu-id="e90ad-393">这些自定义筛选器只能从服务跟踪查看器导入和导出。</span><span class="sxs-lookup"><span data-stu-id="e90ad-393">These custom filters can only be imported and exported from Service Trace Viewer.</span></span> <span data-ttu-id="e90ad-394">其他工具无法读取这些筛选器。</span><span class="sxs-lookup"><span data-stu-id="e90ad-394">They cannot be read by other tools.</span></span>

### <a name="finding-data"></a><span data-ttu-id="e90ad-395">查找数据</span><span class="sxs-lookup"><span data-stu-id="e90ad-395">Finding Data</span></span>

<span data-ttu-id="e90ad-396">查看器提供了以下方式来查找数据：</span><span class="sxs-lookup"><span data-stu-id="e90ad-396">The viewer provides the following ways to find data:</span></span>

- <span data-ttu-id="e90ad-397">通过查找工具栏，可以快速访问最常用的查找选项。</span><span class="sxs-lookup"><span data-stu-id="e90ad-397">The Find toolbar provides a quick access to the most common find options.</span></span>

- <span data-ttu-id="e90ad-398">“查找”对话框提供了更多查找选项。</span><span class="sxs-lookup"><span data-stu-id="e90ad-398">The Find dialog provides more find options.</span></span> <span data-ttu-id="e90ad-399">可以通过 "**编辑**" 菜单或通过短键 Ctrl + F 来访问它。</span><span class="sxs-lookup"><span data-stu-id="e90ad-399">It is accessible through the **Edit** menu, or by the short key Ctrl + F.</span></span>

<span data-ttu-id="e90ad-400">“查找”工具栏显示在查看器的顶部。</span><span class="sxs-lookup"><span data-stu-id="e90ad-400">The find toolbar appears at the top of the viewer.</span></span> <span data-ttu-id="e90ad-401">如果它不存在，可以在 "**视图**" 菜单中将其激活。</span><span class="sxs-lookup"><span data-stu-id="e90ad-401">If it is not present, you can activate it in the **View** menu.</span></span> <span data-ttu-id="e90ad-402">此工具栏具有两个组件：</span><span class="sxs-lookup"><span data-stu-id="e90ad-402">The bar has two components:</span></span>

- <span data-ttu-id="e90ad-403">查找内容：可在其中输入搜索关键字。</span><span class="sxs-lookup"><span data-stu-id="e90ad-403">Find What: Allows you to enter search keyword.</span></span>

- <span data-ttu-id="e90ad-404">查找范围：可在其中输入搜索范围。</span><span class="sxs-lookup"><span data-stu-id="e90ad-404">Look In: Allows you to enter the search scope.</span></span> <span data-ttu-id="e90ad-405">可以选择在所有活动中搜索，也可以选择仅在当前活动中搜索。</span><span class="sxs-lookup"><span data-stu-id="e90ad-405">You can select whether to search in all activities or in the current activity only.</span></span>

<span data-ttu-id="e90ad-406">查找对话框提供两个附加选项：</span><span class="sxs-lookup"><span data-stu-id="e90ad-406">The find dialog provides two additional options:</span></span>

- <span data-ttu-id="e90ad-407">查找目标：</span><span class="sxs-lookup"><span data-stu-id="e90ad-407">Find target:</span></span>

  - <span data-ttu-id="e90ad-408">"原始日志数据" 选项会在所有原始数据中搜索关键字。</span><span class="sxs-lookup"><span data-stu-id="e90ad-408">The "Raw log data" option searches the keyword in all raw data.</span></span>

  - <span data-ttu-id="e90ad-409">"XML Text" 和 "XML 特性" 选项仅搜索 XML 元素。</span><span class="sxs-lookup"><span data-stu-id="e90ad-409">The "XML Text" and "XML Attribute" options only search in XML elements.</span></span>

  - <span data-ttu-id="e90ad-410">"记录消息" 选项仅在消息中搜索关键字。</span><span class="sxs-lookup"><span data-stu-id="e90ad-410">The "Logged Message" option searches the keyword only in messages.</span></span>

- <span data-ttu-id="e90ad-411">忽略根活动：搜索将忽略 "000000000000" 活动中的跟踪。</span><span class="sxs-lookup"><span data-stu-id="e90ad-411">Ignore root activity: The search ignores the traces in the "000000000000" activity.</span></span> <span data-ttu-id="e90ad-412">如果根活动有数千个跟踪，而其中大多数为传输跟踪时，选择此选项会提高大型跟踪文件的性能。</span><span class="sxs-lookup"><span data-stu-id="e90ad-412">This improves performance in large trace files when the root activity has thousands of traces, most of which are transfers.</span></span>

### <a name="navigating-traces"></a><span data-ttu-id="e90ad-413">定位跟踪</span><span class="sxs-lookup"><span data-stu-id="e90ad-413">Navigating Traces</span></span>

<span data-ttu-id="e90ad-414">由于在应用程序运行时期间，跟踪是逐步记录的，因此定位跟踪有助于调试应用程序。</span><span class="sxs-lookup"><span data-stu-id="e90ad-414">Because traces are recorded step by step during application runtime, navigating traces can help you to debug your application.</span></span> <span data-ttu-id="e90ad-415">服务跟踪查看器提供多种定位跟踪方法。</span><span class="sxs-lookup"><span data-stu-id="e90ad-415">The Service Trace Viewer provides various ways to navigate in traces.</span></span>

#### <a name="step-forward-or-backward"></a><span data-ttu-id="e90ad-416">逐步向前或逐步向后</span><span class="sxs-lookup"><span data-stu-id="e90ad-416">Step Forward or Backward</span></span>

<span data-ttu-id="e90ad-417">如果将每个跟踪视为程序中的一行代码，则前进操作非常类似于 Visual Studio 集成开发环境（IDE）中的 "逐过程"。</span><span class="sxs-lookup"><span data-stu-id="e90ad-417">If you consider each trace as a line of code in the program, stepping forward is very similar to "Step over" in the Visual Studio Integrated Development Environment (IDE).</span></span> <span data-ttu-id="e90ad-418">区别在于，在跟踪中还可以逐步向后。</span><span class="sxs-lookup"><span data-stu-id="e90ad-418">The difference is that you can also step backward in the traces.</span></span> <span data-ttu-id="e90ad-419">逐步向前意味着移动到活动中的下一个跟踪。</span><span class="sxs-lookup"><span data-stu-id="e90ad-419">Stepping forward means moving to the next trace in the activity.</span></span>

- <span data-ttu-id="e90ad-420">前进一步：使用 "**活动**" 菜单，或按 "F10"。</span><span class="sxs-lookup"><span data-stu-id="e90ad-420">Step Forward: Use the **Activity** menu, or press "F10".</span></span> <span data-ttu-id="e90ad-421">还可以在跟踪窗格中使用 "向下" 箭头键。</span><span class="sxs-lookup"><span data-stu-id="e90ad-421">You can also use arrow key "down" in the trace pane.</span></span>

- <span data-ttu-id="e90ad-422">单步执行：使用 "**活动**" 菜单，或者按 "F9"。</span><span class="sxs-lookup"><span data-stu-id="e90ad-422">Step Backward: Use the **Activity** menu, or press "F9".</span></span> <span data-ttu-id="e90ad-423">还可以在跟踪窗格中使用 "向上" 箭头键。</span><span class="sxs-lookup"><span data-stu-id="e90ad-423">You can also use arrow key "up" in the trace pane.</span></span>

> [!NOTE]
> <span data-ttu-id="e90ad-424">这会使你转到其他进程或其他计算机上发生的活动，因为 WCF 消息可以携带跨计算机的活动 Id。</span><span class="sxs-lookup"><span data-stu-id="e90ad-424">This can take you to an activity occurring in a different process or even on a different computer, because WCF messages can carry activity IDs that span machines.</span></span>

#### <a name="follow-transfer"></a><span data-ttu-id="e90ad-425">追踪传输</span><span class="sxs-lookup"><span data-stu-id="e90ad-425">Follow Transfer</span></span>

<span data-ttu-id="e90ad-426">传输跟踪是跟踪文件中的特殊跟踪。</span><span class="sxs-lookup"><span data-stu-id="e90ad-426">Transfer traces are special traces in the trace file.</span></span> <span data-ttu-id="e90ad-427">一个活动可以通过传输跟踪而传输到另一个活动。</span><span class="sxs-lookup"><span data-stu-id="e90ad-427">An activity may transfer to another activity by a transfer trace.</span></span> <span data-ttu-id="e90ad-428">例如，"活动 A" 可能会传输到 "活动 B"。</span><span class="sxs-lookup"><span data-stu-id="e90ad-428">For example, "Activity A" may transfer to "Activity B".</span></span> <span data-ttu-id="e90ad-429">在这种情况下，在 "活动 A" 中有一个名为 "To： Activity" 和 "传输" 图标的传输跟踪。</span><span class="sxs-lookup"><span data-stu-id="e90ad-429">In such case, there is a transfer trace in the "Activity A" with the name "To: Activity" and the transfer icon.</span></span> <span data-ttu-id="e90ad-430">此传输跟踪是两个跟踪之间的链接。</span><span class="sxs-lookup"><span data-stu-id="e90ad-430">This transfer trace is a link between the two traces.</span></span> <span data-ttu-id="e90ad-431">在 "活动 B" 中，在活动的末尾，还可能有一个传输跟踪可转移回 "活动 A"。</span><span class="sxs-lookup"><span data-stu-id="e90ad-431">In "Activity B", there might also be a transfer trace at the end of the activity to transfer back to "Activity A".</span></span> <span data-ttu-id="e90ad-432">这类似于程序中的函数调用：A 调用 B，然后 B 返回。</span><span class="sxs-lookup"><span data-stu-id="e90ad-432">This is similar to function calls in programs: A calls B, then B returns.</span></span>

<span data-ttu-id="e90ad-433">"跟进传输" 类似于调试器中的 "单步执行"。</span><span class="sxs-lookup"><span data-stu-id="e90ad-433">"Follow transfer" is similar to "Step into" in a debugger.</span></span> <span data-ttu-id="e90ad-434">它追踪从 A 到 B 的传输。它对其他跟踪没有任何影响。</span><span class="sxs-lookup"><span data-stu-id="e90ad-434">It follows the transfer from A to B. It does not have any effect on other traces.</span></span>

<span data-ttu-id="e90ad-435">有两种追踪传输的方法：使用鼠标或使用键盘：</span><span class="sxs-lookup"><span data-stu-id="e90ad-435">There are two ways to follow a transfer: by mouse or by keyboard:</span></span>

- <span data-ttu-id="e90ad-436">使用鼠标：在跟踪窗格中双击传输跟踪。</span><span class="sxs-lookup"><span data-stu-id="e90ad-436">By Mouse: Double-click the transfer trace in the trace pane.</span></span>

- <span data-ttu-id="e90ad-437">按键盘：选择传输跟踪，并使用 "**活动**" 菜单中的 "追踪传输"，或按 "F11"</span><span class="sxs-lookup"><span data-stu-id="e90ad-437">By Keyboard: Select a transfer trace, and use "Follow Transfer" in the **Activity** menu, or press "F11"</span></span>

> [!NOTE]
> <span data-ttu-id="e90ad-438">在很多情况下，当活动 A 传输到活动 B 时，活动 A 会等待，直到活动 B 传输回活动 A 为止。这意味着活动 A 在活动 B 主动跟踪期间没有记录跟踪。</span><span class="sxs-lookup"><span data-stu-id="e90ad-438">In many cases, when Activity A transfers to Activity B, Activity A waits until Activity B transfers back to Activity A. This means that Activity A has no trace logged during the period when Activity B is actively tracing.</span></span> <span data-ttu-id="e90ad-439">但是，也有可能活动 A 不等待，而是持续记录跟踪。</span><span class="sxs-lookup"><span data-stu-id="e90ad-439">However, it is also possible that Activity A does not wait, and continues to log traces.</span></span> <span data-ttu-id="e90ad-440">此外，活动 B 还可能不传输回活动 A。因此在这个意义上，活动传输与函数调用仍有不同。</span><span class="sxs-lookup"><span data-stu-id="e90ad-440">It is also possible that Activity B does not transfer back to Activity A. Therefore, activity transfers are still different from function calls in this sense.</span></span> <span data-ttu-id="e90ad-441">在图形视图中可以更好地理解活动传输。</span><span class="sxs-lookup"><span data-stu-id="e90ad-441">You can understand activity transfers better in Graph view.</span></span>

#### <a name="jump-to-next-or-previous-transfer"></a><span data-ttu-id="e90ad-442">跳转到下一个或上一个传输</span><span class="sxs-lookup"><span data-stu-id="e90ad-442">Jump to Next or Previous Transfer</span></span>

<span data-ttu-id="e90ad-443">在分析当前活动或选定的活动（如果选择了多个活动）时，可能希望快速找到它传输到的活动。</span><span class="sxs-lookup"><span data-stu-id="e90ad-443">When you are analyzing the current activity, or selected activities when multiple activities are selected, you may want to quickly find the activities it transfers to.</span></span> <span data-ttu-id="e90ad-444">"跳转到下一个传输" 允许您在活动中查找下一个传输跟踪。</span><span class="sxs-lookup"><span data-stu-id="e90ad-444">"Jump to next transfer" allows you to locate the next transfer trace in the activity.</span></span> <span data-ttu-id="e90ad-445">找到传输跟踪后，可以使用 "跟进传输" 单步执行下一个活动。</span><span class="sxs-lookup"><span data-stu-id="e90ad-445">Once you find the transfer trace, you can use "Follow transfer" to step into the next activity.</span></span>

- <span data-ttu-id="e90ad-446">跳转到下一个传输：使用 "**活动**" 菜单，或者按 "Ctrl + F10"。</span><span class="sxs-lookup"><span data-stu-id="e90ad-446">Jump to Next Transfer: Use the **Activity** menu, or press "Ctrl + F10".</span></span>

- <span data-ttu-id="e90ad-447">跳转到上一个传输：使用 "**活动**" 菜单，或者按 "Ctrl + F9"。</span><span class="sxs-lookup"><span data-stu-id="e90ad-447">Jump to Previous Transfer: Use the **Activity** menu, or press "Ctrl + F9".</span></span>

#### <a name="navigate-in-graph-view"></a><span data-ttu-id="e90ad-448">在图形视图中定位</span><span class="sxs-lookup"><span data-stu-id="e90ad-448">Navigate in Graph View</span></span>

<span data-ttu-id="e90ad-449">尽管在 "活动" 窗格和 "跟踪" 窗格中导航与调试类似，但使用**图形**视图可在导航中提供更好的体验。</span><span class="sxs-lookup"><span data-stu-id="e90ad-449">Although navigating in the activity pane and trace pane is similar to debugging, using **Graph** view provides a much better experience in navigation.</span></span> <span data-ttu-id="e90ad-450">有关详细信息，请参阅 "图形视图" 部分。</span><span class="sxs-lookup"><span data-stu-id="e90ad-450">See "Graph View" section for more information.</span></span>

### <a name="loading-large-trace-files"></a><span data-ttu-id="e90ad-451">加载大型跟踪文件</span><span class="sxs-lookup"><span data-stu-id="e90ad-451">Loading Large Trace Files</span></span>

<span data-ttu-id="e90ad-452">跟踪文件可能非常大。</span><span class="sxs-lookup"><span data-stu-id="e90ad-452">Trace files can be very large.</span></span> <span data-ttu-id="e90ad-453">例如，如果在 "详细" 级别启用跟踪，则生成的用于运行几分钟的跟踪文件很容易就可以达到数百 mb 甚至更大，具体取决于网络速度和通信模式。</span><span class="sxs-lookup"><span data-stu-id="e90ad-453">For example, if you turn on tracing on the "Verbose" level, the resulting trace file for running a few minutes can easily be hundreds of megabytes or even larger, depending on network speed and communication pattern.</span></span>

<span data-ttu-id="e90ad-454">在服务跟踪查看器中打开极大型的跟踪文件时，系统性能可能会受到负面影响。</span><span class="sxs-lookup"><span data-stu-id="e90ad-454">When you open a very large trace file in the Service Trace Viewer, system performance can be negatively impacted.</span></span> <span data-ttu-id="e90ad-455">加载速度和加载后的响应时间可能会很慢。</span><span class="sxs-lookup"><span data-stu-id="e90ad-455">The loading speed and the response time after loading can be slow.</span></span> <span data-ttu-id="e90ad-456">实际速度不总是相同，具体取决于硬件配置。</span><span class="sxs-lookup"><span data-stu-id="e90ad-456">Actual speed differs from time to time, depending on your hardware configuration.</span></span> <span data-ttu-id="e90ad-457">在大多数 PC 中，如果加载大于 200M 的跟踪文件，则会严重影响性能。</span><span class="sxs-lookup"><span data-stu-id="e90ad-457">In most PCs, loading a trace file larger than 200M has a severe performance impact.</span></span> <span data-ttu-id="e90ad-458">对于大于 1G 的跟踪文件，此工具可能会用尽所有可用的内存，或者长时间停止响应。</span><span class="sxs-lookup"><span data-stu-id="e90ad-458">For traces files larger than 1G, the tool may use up all available memory, or stop responding for a very long time.</span></span>

<span data-ttu-id="e90ad-459">为了避免在分析大型跟踪文件时加载和响应时间变慢，服务跟踪查看器提供了一种称为 "部分加载" 的功能，该功能一次只加载跟踪的一小部分。</span><span class="sxs-lookup"><span data-stu-id="e90ad-459">In order to avoid the slow loading and response time in analyzing large trace files, the Service Trace Viewer provides a feature called "Partial Loading", which only loads a small part of the trace at a time.</span></span> <span data-ttu-id="e90ad-460">例如，您可能有一个大于 1GB 的跟踪文件，在服务器上已运行了几天。</span><span class="sxs-lookup"><span data-stu-id="e90ad-460">For example, you may have a trace file over 1GB, running for several days on the server.</span></span> <span data-ttu-id="e90ad-461">当发生某些错误，又想分析该跟踪时，将不必打开整个跟踪文件。</span><span class="sxs-lookup"><span data-stu-id="e90ad-461">When some errors have occurred and you want to analyze the trace, it is not necessary to open the entire trace file.</span></span> <span data-ttu-id="e90ad-462">您可以加载可能发生错误的某个时间段内的跟踪。</span><span class="sxs-lookup"><span data-stu-id="e90ad-462">Instead, you can load the traces within a certain period of time when the error might have occurred.</span></span> <span data-ttu-id="e90ad-463">由于缩小了范围，服务跟踪查看器工具可以更快地加载文件，而您可以使用一个较小的数据集来标识这些错误。</span><span class="sxs-lookup"><span data-stu-id="e90ad-463">Because the scope is smaller, the Service Trace Viewer tool can load the file faster and you can identify the errors using a smaller set of data.</span></span>

#### <a name="enabling-partial-loading"></a><span data-ttu-id="e90ad-464">启用部分加载</span><span class="sxs-lookup"><span data-stu-id="e90ad-464">Enabling Partial Loading</span></span>

<span data-ttu-id="e90ad-465">部分加载不需要手动启用。</span><span class="sxs-lookup"><span data-stu-id="e90ad-465">You do not need to manually enable partial loading.</span></span> <span data-ttu-id="e90ad-466">如果试图加载的跟踪文件的总大小超过 40MB，服务跟踪查看器会自动显示“部分加载”对话框，供您选择要加载的部分。</span><span class="sxs-lookup"><span data-stu-id="e90ad-466">If the total size of the trace file(s) you attempt to load exceeds 40MB, Service Trace Viewer automatically displays a Partial Loading dialog for you to select the part that you want to load.</span></span>

> [!NOTE]
> <span data-ttu-id="e90ad-467">由于跟踪在时间跨度内不一定均匀分布，因此，在“部分加载”工具栏中指定的时间段长度也不一定与显示的加载大小成正比。</span><span class="sxs-lookup"><span data-stu-id="e90ad-467">Because traces may not be distributed evenly in the time span, the length of the time period you specify in the Partial Loading toolbar may not be proportional to the loading size shown.</span></span> <span data-ttu-id="e90ad-468">实际加载大小可以小于部分加载对话框中的“估计大小”。</span><span class="sxs-lookup"><span data-stu-id="e90ad-468">The actual loading size can be smaller than the Estimated Size in the partial loading dialog.</span></span>

#### <a name="adjusting-partial-loading"></a><span data-ttu-id="e90ad-469">调整部分加载</span><span class="sxs-lookup"><span data-stu-id="e90ad-469">Adjusting Partial Loading</span></span>

<span data-ttu-id="e90ad-470">部分加载跟踪文件之后，可能希望更改已加载的数据集。</span><span class="sxs-lookup"><span data-stu-id="e90ad-470">After you have partially loaded the trace file, you may want to change the data set being loaded.</span></span> <span data-ttu-id="e90ad-471">通过调整查看器顶部的“部分加载”工具栏，可以实现此操作。</span><span class="sxs-lookup"><span data-stu-id="e90ad-471">You can do so by adjusting the Partial Loading toolbar at the top of the viewer.</span></span>

1. <span data-ttu-id="e90ad-472">使用鼠标移动工具栏，或输入“开始时间”和“结束时间”。</span><span class="sxs-lookup"><span data-stu-id="e90ad-472">Move the toolbar by mouse, or input the Begin and End time.</span></span>

2. <span data-ttu-id="e90ad-473">单击 "**调整**" 按钮。</span><span class="sxs-lookup"><span data-stu-id="e90ad-473">Click the **Adjust** button.</span></span>

## <a name="understanding-trace-icons"></a><span data-ttu-id="e90ad-474">了解跟踪图标</span><span class="sxs-lookup"><span data-stu-id="e90ad-474">Understanding Trace Icons</span></span>

<span data-ttu-id="e90ad-475">下面是服务跟踪查看器工具在 "**活动**视图"、"**关系图**视图" 和 "**跟踪**" 窗格中使用的图标列表，用来表示不同的项。</span><span class="sxs-lookup"><span data-stu-id="e90ad-475">The following is a list of icons that the Service Trace Viewer tool uses in the **Activity** view, **Graph** view and **Trace** pane to represent different items.</span></span>

> [!NOTE]
> <span data-ttu-id="e90ad-476">某些未分类的跟踪（例如，"关闭消息"）没有图标。</span><span class="sxs-lookup"><span data-stu-id="e90ad-476">Some traces that are not categorized (for example, "a message is closed") have no icon.</span></span>

### <a name="activity-tracing-traces"></a><span data-ttu-id="e90ad-477">活动跟踪</span><span class="sxs-lookup"><span data-stu-id="e90ad-477">Activity Tracing Traces</span></span>

|<span data-ttu-id="e90ad-478">图标</span><span class="sxs-lookup"><span data-stu-id="e90ad-478">Icon</span></span>|<span data-ttu-id="e90ad-479">描述</span><span class="sxs-lookup"><span data-stu-id="e90ad-479">Description</span></span>|
|----------|-----------------|
|<span data-ttu-id="e90ad-480">![“警告”跟踪](./media/7457c4ed-8383-4ac7-bada-bcb27409da58.gif "7457c4ed-8383-4ac7-bada-bcb27409da58")</span><span class="sxs-lookup"><span data-stu-id="e90ad-480">![Warning trace](./media/7457c4ed-8383-4ac7-bada-bcb27409da58.gif "7457c4ed-8383-4ac7-bada-bcb27409da58")</span></span>|<span data-ttu-id="e90ad-481">“警告”跟踪：在警告级别发出的跟踪</span><span class="sxs-lookup"><span data-stu-id="e90ad-481">Warning trace: A trace that is emitted at the warning level</span></span>|
|<span data-ttu-id="e90ad-482">![“错误”跟踪](./media/7d908807-4967-4f6d-9226-d52125db69ca.gif "7d908807-4967-4f6d-9226-d52125db69ca")</span><span class="sxs-lookup"><span data-stu-id="e90ad-482">![Error trace](./media/7d908807-4967-4f6d-9226-d52125db69ca.gif "7d908807-4967-4f6d-9226-d52125db69ca")</span></span>|<span data-ttu-id="e90ad-483">“错误”跟踪：在错误级别发出的跟踪。</span><span class="sxs-lookup"><span data-stu-id="e90ad-483">Error trace: A trace that is emitted at the error level.</span></span>|
|<span data-ttu-id="e90ad-484">![“活动开始”跟踪：](./media/8a728f91-5f80-4a95-afe8-0b6acd6e0317.gif "8a728f91-5f80-4a95-afe8-0b6acd6e0317")</span><span class="sxs-lookup"><span data-stu-id="e90ad-484">![Activity Start trace:](./media/8a728f91-5f80-4a95-afe8-0b6acd6e0317.gif "8a728f91-5f80-4a95-afe8-0b6acd6e0317")</span></span>|<span data-ttu-id="e90ad-485">“活动开端”跟踪：标记活动开头的跟踪。</span><span class="sxs-lookup"><span data-stu-id="e90ad-485">Activity Start trace: A trace that marks the beginning of an activity.</span></span> <span data-ttu-id="e90ad-486">它包含活动的名称。</span><span class="sxs-lookup"><span data-stu-id="e90ad-486">It contains the name of the activity.</span></span> <span data-ttu-id="e90ad-487">应用程序设计人员或开发人员应为每个进程或线程的每个活动 ID 定义一个活动“开端”跟踪。</span><span class="sxs-lookup"><span data-stu-id="e90ad-487">As the application designer or developer, you should define one activity Start trace per activity id per process or thread.</span></span><br /><br /> <span data-ttu-id="e90ad-488">如果活动 ID 在跟踪关联的跟踪源之间传播，随后将可看到同一活动 ID 有多个“开端”（每个跟踪源一个）。</span><span class="sxs-lookup"><span data-stu-id="e90ad-488">If the activity id is propagated across trace sources for trace correlation, you can then see multiple Starts for the same activity id (one per trace source).</span></span> <span data-ttu-id="e90ad-489">如果为跟踪源启用了 ActivityTracing，则会发出“开端”跟踪。</span><span class="sxs-lookup"><span data-stu-id="e90ad-489">The Start trace is emitted if ActivityTracing is enabled for the trace source.</span></span>|
|<span data-ttu-id="e90ad-490">![“活动停止”跟踪](./media/a0493e95-653e-4af8-84a4-4d09a400bc31.gif "a0493e95-653e-4af8-84a4-4d09a400bc31")</span><span class="sxs-lookup"><span data-stu-id="e90ad-490">![Activity Stop trace](./media/a0493e95-653e-4af8-84a4-4d09a400bc31.gif "a0493e95-653e-4af8-84a4-4d09a400bc31")</span></span>|<span data-ttu-id="e90ad-491">“活动结尾”跟踪：标记活动结尾的跟踪。</span><span class="sxs-lookup"><span data-stu-id="e90ad-491">Activity Stop trace: A trace that marks the end of an activity.</span></span> <span data-ttu-id="e90ad-492">.</span><span class="sxs-lookup"><span data-stu-id="e90ad-492">.</span></span> <span data-ttu-id="e90ad-493">它包含活动的名称。</span><span class="sxs-lookup"><span data-stu-id="e90ad-493">It contains the name of the activity.</span></span> <span data-ttu-id="e90ad-494">应用程序设计人员或开发人员应为每个跟踪源的每个活动 ID 定义一个活动“结尾”跟踪。</span><span class="sxs-lookup"><span data-stu-id="e90ad-494">As the application designer or developer, you should define one activity Stop trace per activity id per trace source.</span></span> <span data-ttu-id="e90ad-495">在给定跟踪源发出的活动结尾之后不会显示该跟踪源中的任何跟踪，除非跟踪时间间隔不够小。</span><span class="sxs-lookup"><span data-stu-id="e90ad-495">No traces from a given trace source appear after the activity Stop emitted by that trace source, except if the trace time granularity is not sufficiently small.</span></span> <span data-ttu-id="e90ad-496">如果发生这种情况，时间相同的两个跟踪（包括“结尾”跟踪）在显示时可能会交错。</span><span class="sxs-lookup"><span data-stu-id="e90ad-496">When that happens, two traces with the same time, including a Stop, may be interleaved when displayed.</span></span> <span data-ttu-id="e90ad-497">如果活动 ID 在跟踪关联的跟踪源之间传播，将可看到同一活动 ID 有多个“结尾”（每个跟踪源一个）。</span><span class="sxs-lookup"><span data-stu-id="e90ad-497">If the activity id is propagated across trace sources for trace correlation, you can see multiple Stops for the same activity id (one per trace source).</span></span> <span data-ttu-id="e90ad-498">如果为跟踪源启用了 ActivityTracing，则会发出“结尾”跟踪。</span><span class="sxs-lookup"><span data-stu-id="e90ad-498">The Stop trace is emitted if ActivityTracing is enabled for the trace source.</span></span>|
|<span data-ttu-id="e90ad-499">![“活动挂起”跟踪](./media/6f7f4191-df2b-4592-8998-8379769e2d32.gif "6f7f4191-df2b-4592-8998-8379769e2d32")</span><span class="sxs-lookup"><span data-stu-id="e90ad-499">![Activity Suspend trace](./media/6f7f4191-df2b-4592-8998-8379769e2d32.gif "6f7f4191-df2b-4592-8998-8379769e2d32")</span></span>|<span data-ttu-id="e90ad-500">“活动挂起”跟踪：标记活动暂停时间的跟踪。</span><span class="sxs-lookup"><span data-stu-id="e90ad-500">Activity Suspend trace: A trace that marks the time an activity is paused.</span></span> <span data-ttu-id="e90ad-501">在活动继续之前，不会在挂起的活动中发出任何跟踪。</span><span class="sxs-lookup"><span data-stu-id="e90ad-501">No traces are emitted in a suspended activity until the activity resumes.</span></span> <span data-ttu-id="e90ad-502">挂起的活动表示不会在该活动的跟踪源范围内进行任何处理。</span><span class="sxs-lookup"><span data-stu-id="e90ad-502">A suspended activity denotes that no processing is happening in that activity in the scope of the trace source.</span></span> <span data-ttu-id="e90ad-503">“挂起”/“继续”跟踪对于进行分析十分有用。</span><span class="sxs-lookup"><span data-stu-id="e90ad-503">Suspend/Resume traces are useful for profiling.</span></span> <span data-ttu-id="e90ad-504">如果为跟踪源启用了 ActivityTracing，则会发出“挂起”跟踪。</span><span class="sxs-lookup"><span data-stu-id="e90ad-504">The Suspend trace is emitted if ActivityTracing is enabled for the trace source.</span></span>|
|<span data-ttu-id="e90ad-505">![“活动恢复”跟踪](./media/1060d9d2-c9c8-4e0a-9988-cdc2f7030f17.gif "1060d9d2-c9c8-4e0a-9988-cdc2f7030f17")</span><span class="sxs-lookup"><span data-stu-id="e90ad-505">![Activity resume trace](./media/1060d9d2-c9c8-4e0a-9988-cdc2f7030f17.gif "1060d9d2-c9c8-4e0a-9988-cdc2f7030f17")</span></span>|<span data-ttu-id="e90ad-506">“活动继续”跟踪：标记活动在暂停后继续进行的时间的跟踪。</span><span class="sxs-lookup"><span data-stu-id="e90ad-506">Activity resume trace: A trace that marks the time an activity is resumed after it had been suspended.</span></span> <span data-ttu-id="e90ad-507">可以在该活动中再次发出跟踪。</span><span class="sxs-lookup"><span data-stu-id="e90ad-507">Traces may be emitted again in that activity.</span></span> <span data-ttu-id="e90ad-508">“挂起”/“继续”跟踪对于进行分析十分有用。</span><span class="sxs-lookup"><span data-stu-id="e90ad-508">Suspend/Resume traces are useful for profiling.</span></span> <span data-ttu-id="e90ad-509">如果为跟踪源启用了 ActivityTracing，则会发出“继续”跟踪。</span><span class="sxs-lookup"><span data-stu-id="e90ad-509">The Resume trace is emitted if ActivityTracing is enabled for the trace source.</span></span>|
|<span data-ttu-id="e90ad-510">![传输](./media/b2d9850e-f362-4ae5-bb8d-9f6f3ca036a5.gif "b2d9850e-f362-4ae5-bb8d-9f6f3ca036a5")</span><span class="sxs-lookup"><span data-stu-id="e90ad-510">![Transfer](./media/b2d9850e-f362-4ae5-bb8d-9f6f3ca036a5.gif "b2d9850e-f362-4ae5-bb8d-9f6f3ca036a5")</span></span>|<span data-ttu-id="e90ad-511">传输：将逻辑控制流从一个活动传输到另一个活动时发出的跟踪。</span><span class="sxs-lookup"><span data-stu-id="e90ad-511">Transfer: A trace that is emitted when logical control flow is transferred from one activity to another.</span></span> <span data-ttu-id="e90ad-512">作为传输来源的活动可以继续与作为传输目标的活动并行工作。</span><span class="sxs-lookup"><span data-stu-id="e90ad-512">The activity the transfer originates from may continue to perform work in parallel to the activity the transfer goes to.</span></span> <span data-ttu-id="e90ad-513">如果为跟踪源启用了 ActivityTracing，则会发出“传输”跟踪。</span><span class="sxs-lookup"><span data-stu-id="e90ad-513">The Transfer trace is emitted if ActivityTracing is enabled for the trace source.</span></span>|
|<span data-ttu-id="e90ad-514">![传输自](./media/1df215cb-b344-4f36-a20d-195999bda741.gif "1df215cb-b344-4f36-a20d-195999bda741")</span><span class="sxs-lookup"><span data-stu-id="e90ad-514">![Transfer From](./media/1df215cb-b344-4f36-a20d-195999bda741.gif "1df215cb-b344-4f36-a20d-195999bda741")</span></span>|<span data-ttu-id="e90ad-515">传输自：定义从另一个活动到当前活动的传输的跟踪。</span><span class="sxs-lookup"><span data-stu-id="e90ad-515">Transfer From: A trace that defines a transfer from another activity to the current activity.</span></span>|
|<span data-ttu-id="e90ad-516">![传输到](./media/74255b6e-7c47-46ef-8e53-870c76b04c3f.gif "74255b6e-7c47-46ef-8e53-870c76b04c3f")</span><span class="sxs-lookup"><span data-stu-id="e90ad-516">![Transfer To](./media/74255b6e-7c47-46ef-8e53-870c76b04c3f.gif "74255b6e-7c47-46ef-8e53-870c76b04c3f")</span></span>|<span data-ttu-id="e90ad-517">传输至：定义从当前活动到另一个活动的逻辑控制流传输的跟踪。</span><span class="sxs-lookup"><span data-stu-id="e90ad-517">Transfer To: A trace that defines a transfer of logical control flow from the current activity to another activity.</span></span>|

### <a name="wcf-traces"></a><span data-ttu-id="e90ad-518">WCF 跟踪</span><span class="sxs-lookup"><span data-stu-id="e90ad-518">WCF Traces</span></span>

|<span data-ttu-id="e90ad-519">图标</span><span class="sxs-lookup"><span data-stu-id="e90ad-519">Icon</span></span>|<span data-ttu-id="e90ad-520">描述</span><span class="sxs-lookup"><span data-stu-id="e90ad-520">Description</span></span>|
|----------|-----------------|
|<span data-ttu-id="e90ad-521">![消息日志跟踪](./media/7c66e994-2476-4260-a0db-98948b9af197.gif "7c66e994-2476-4260-a0db-98948b9af197")</span><span class="sxs-lookup"><span data-stu-id="e90ad-521">![Message Log trace](./media/7c66e994-2476-4260-a0db-98948b9af197.gif "7c66e994-2476-4260-a0db-98948b9af197")</span></span>|<span data-ttu-id="e90ad-522">消息日志跟踪：当启用跟踪源时，通过消息日志记录功能记录 WCF 消息时发出的跟踪 `System.ServiceModel.MessageLogging` 。</span><span class="sxs-lookup"><span data-stu-id="e90ad-522">Message Log trace: A trace that is emitted when a WCF message is logged by the message logging feature, when the `System.ServiceModel.MessageLogging` trace source is enabled.</span></span> <span data-ttu-id="e90ad-523">单击此跟踪可以显示消息。</span><span class="sxs-lookup"><span data-stu-id="e90ad-523">Clicking on this trace displays the message.</span></span> <span data-ttu-id="e90ad-524">一条消息有四个可配置的日志记录点：ServiceLevelSendRequest、TransportSend、TransportReceive 和 ServiceLevelReceiveRequest，消息日志跟踪的 `messageSource` 属性中也指明了它们。</span><span class="sxs-lookup"><span data-stu-id="e90ad-524">There are four configurable logging points for a message: ServiceLevelSendRequest, TransportSend, TransportReceive, and ServiceLevelReceiveRequest, which can also be  specified by the `messageSource` attribute in the message log trace.</span></span>|
|<span data-ttu-id="e90ad-525">![消息接收跟踪](./media/de4f586c-c5dd-41ec-b1c3-ac56b4dfa35c.gif "de4f586c-c5dd-41ec-b1c3-ac56b4dfa35c")</span><span class="sxs-lookup"><span data-stu-id="e90ad-525">![Message Received trace](./media/de4f586c-c5dd-41ec-b1c3-ac56b4dfa35c.gif "de4f586c-c5dd-41ec-b1c3-ac56b4dfa35c")</span></span>|<span data-ttu-id="e90ad-526">消息接收跟踪：接收 WCF 消息时发出的跟踪（如果在 `System.ServiceModel` 信息或详细级别启用了跟踪源）。</span><span class="sxs-lookup"><span data-stu-id="e90ad-526">Message Received trace: A trace that is emitted when a WCF message is received, if the `System.ServiceModel` trace source is enabled at the Information or Verbose level.</span></span> <span data-ttu-id="e90ad-527">此跟踪对于在活动**图形**视图中查看消息相关箭头非常重要。</span><span class="sxs-lookup"><span data-stu-id="e90ad-527">This trace is essential for viewing the message correlation arrow in the Activity **Graph** view.</span></span>|
|<span data-ttu-id="e90ad-528">![消息已发送跟踪](./media/558943c4-17cf-4c12-9405-677e995ac387.gif "558943c4-17cf-4c12-9405-677e995ac387")</span><span class="sxs-lookup"><span data-stu-id="e90ad-528">![Message Sent trace](./media/558943c4-17cf-4c12-9405-677e995ac387.gif "558943c4-17cf-4c12-9405-677e995ac387")</span></span>|<span data-ttu-id="e90ad-529">消息已发送跟踪：发送 WCF 消息时发出的跟踪（如果 `System.ServiceModel` 在信息或详细级别启用了跟踪源）。</span><span class="sxs-lookup"><span data-stu-id="e90ad-529">Message Sent trace: A trace that is emitted when a WCF message is sent if the `System.ServiceModel` trace source is enabled at the Information or Verbose level.</span></span> <span data-ttu-id="e90ad-530">此跟踪对于在活动**图形**视图中查看消息相关箭头非常重要。</span><span class="sxs-lookup"><span data-stu-id="e90ad-530">This trace is essential for viewing the message correlation arrow in the Activity **Graph** view.</span></span>|

### <a name="activities"></a><span data-ttu-id="e90ad-531">活动</span><span class="sxs-lookup"><span data-stu-id="e90ad-531">Activities</span></span>

|<span data-ttu-id="e90ad-532">图标</span><span class="sxs-lookup"><span data-stu-id="e90ad-532">Icon</span></span>|<span data-ttu-id="e90ad-533">描述</span><span class="sxs-lookup"><span data-stu-id="e90ad-533">Description</span></span>|
|----------|-----------------|
|<span data-ttu-id="e90ad-534">活动</span><span class="sxs-lookup"><span data-stu-id="e90ad-534">![Activity](./media/wcfc-defaultactivityc.gif "wcfc_defaultActivityc")</span></span>|<span data-ttu-id="e90ad-535">活动：指示当前活动为一般活动。</span><span class="sxs-lookup"><span data-stu-id="e90ad-535">Activity: Indicates that the current activity is a generic activity.</span></span>|
|<span data-ttu-id="e90ad-536">![根活动](./media/5dc8e0eb-1c32-4076-8c66-594935beaee9.gif "5dc8e0eb-1c32-4076-8c66-594935beaee9")</span><span class="sxs-lookup"><span data-stu-id="e90ad-536">![Root activity](./media/5dc8e0eb-1c32-4076-8c66-594935beaee9.gif "5dc8e0eb-1c32-4076-8c66-594935beaee9")</span></span>|<span data-ttu-id="e90ad-537">根活动：指示进程的根活动。</span><span class="sxs-lookup"><span data-stu-id="e90ad-537">Root activity: Indicates the root activity of a process.</span></span>|

### <a name="wcf-activities"></a><span data-ttu-id="e90ad-538">WCF 活动</span><span class="sxs-lookup"><span data-stu-id="e90ad-538">WCF Activities</span></span>

|<span data-ttu-id="e90ad-539">图标</span><span class="sxs-lookup"><span data-stu-id="e90ad-539">Icon</span></span>|<span data-ttu-id="e90ad-540">描述</span><span class="sxs-lookup"><span data-stu-id="e90ad-540">Description</span></span>|
|----------|-----------------|
|<span data-ttu-id="e90ad-541">![“环境”活动](./media/29fa00ac-cf78-46e5-822d-56222fff61d1.gif "29fa00ac-cf78-46e5-822d-56222fff61d1")</span><span class="sxs-lookup"><span data-stu-id="e90ad-541">![Environment activity](./media/29fa00ac-cf78-46e5-822d-56222fff61d1.gif "29fa00ac-cf78-46e5-822d-56222fff61d1")</span></span>|<span data-ttu-id="e90ad-542">环境活动：创建、打开或关闭 WCF 主机或客户端的活动。</span><span class="sxs-lookup"><span data-stu-id="e90ad-542">Environment activity: An activity that creates, opens, or closes a WCF host or client.</span></span> <span data-ttu-id="e90ad-543">在这些阶段中发生的错误将出现在此活动中。</span><span class="sxs-lookup"><span data-stu-id="e90ad-543">Errors that have happened during these phases will appear in this activity.</span></span>|
|<span data-ttu-id="e90ad-544">![“侦听”活动](./media/d7b135f6-ec7d-45d7-9913-037ab30e4c26.gif "d7b135f6-ec7d-45d7-9913-037ab30e4c26")</span><span class="sxs-lookup"><span data-stu-id="e90ad-544">![Listen activity](./media/d7b135f6-ec7d-45d7-9913-037ab30e4c26.gif "d7b135f6-ec7d-45d7-9913-037ab30e4c26")</span></span>|<span data-ttu-id="e90ad-545">“侦听”活动：可对与侦听器相关的跟踪进行记录的活动。</span><span class="sxs-lookup"><span data-stu-id="e90ad-545">Listen activity: An activity that logs traces related to a listener.</span></span> <span data-ttu-id="e90ad-546">可以在此活动内查看侦听器信息和连接请求。</span><span class="sxs-lookup"><span data-stu-id="e90ad-546">Inside this activity, we can view listener information and connection requests.</span></span>|
|<span data-ttu-id="e90ad-547">![“接收字节”活动](./media/2f628580-b80f-45a7-925b-616c96426c0e.gif "2f628580-b80f-45a7-925b-616c96426c0e")</span><span class="sxs-lookup"><span data-stu-id="e90ad-547">![Receive Bytes activity](./media/2f628580-b80f-45a7-925b-616c96426c0e.gif "2f628580-b80f-45a7-925b-616c96426c0e")</span></span>|<span data-ttu-id="e90ad-548">“接收字节”活动：一种活动，可对与在两个终结点之间的连接上接收传入字节相关的所有跟踪进行分组。</span><span class="sxs-lookup"><span data-stu-id="e90ad-548">Receive Bytes activity: An activity that groups all traces related to receiving incoming bytes on a connection between two endpoints.</span></span> <span data-ttu-id="e90ad-549">在与传播其活动 ID 的传输活动（比如 http.sys）建立关联时，此活动是必需的。</span><span class="sxs-lookup"><span data-stu-id="e90ad-549">This activity is essential in correlating with transport activities that propagate their activity id such as http.sys.</span></span> <span data-ttu-id="e90ad-550">诸如中止等连接错误将出现在此活动中。</span><span class="sxs-lookup"><span data-stu-id="e90ad-550">Connection errors such as aborts will appear in this activity.</span></span>|
|<span data-ttu-id="e90ad-551">![“处理消息”活动](./media/wcfc-executionactivityiconc.GIF "wcfc_ExecutionActivityIconc")</span><span class="sxs-lookup"><span data-stu-id="e90ad-551">![Process Message activity](./media/wcfc-executionactivityiconc.GIF "wcfc_ExecutionActivityIconc")</span></span>|<span data-ttu-id="e90ad-552">处理消息活动：对与创建 WCF 消息相关的跟踪进行分组的活动。</span><span class="sxs-lookup"><span data-stu-id="e90ad-552">Process Message activity: An activity that groups traces related to creating a WCF message.</span></span> <span data-ttu-id="e90ad-553">由于包装错误或消息格式不正确而导致的错误将出现在该活动中。</span><span class="sxs-lookup"><span data-stu-id="e90ad-553">Errors due to a bad envelope or a malformed message will appear in that activity.</span></span> <span data-ttu-id="e90ad-554">可以在此活动内检测消息头，以确定是否从调用方传播了活动 ID。</span><span class="sxs-lookup"><span data-stu-id="e90ad-554">Inside this activity, we can inspect message headers to see if an activity id was propagated from the caller.</span></span> <span data-ttu-id="e90ad-555">如果已传播，则在传输到“处理操作”活动（下一个图标）时，我们还可以为该活动分配传播的活动 ID，以便在调用方和被调用方的跟踪之间建立关联。</span><span class="sxs-lookup"><span data-stu-id="e90ad-555">If this is true, when we transfer to Process Action activity (the next icon), we can also assign to that activity the propagated activity id for correlation between the caller and callee’s traces.</span></span>|
|<span data-ttu-id="e90ad-556">![消息日志跟踪](./media/7c66e994-2476-4260-a0db-98948b9af197.gif "7c66e994-2476-4260-a0db-98948b9af197")</span><span class="sxs-lookup"><span data-stu-id="e90ad-556">![Message Log trace](./media/7c66e994-2476-4260-a0db-98948b9af197.gif "7c66e994-2476-4260-a0db-98948b9af197")</span></span>|<span data-ttu-id="e90ad-557">"处理操作" 活动：一种活动，可对两个终结点之间的 WCF 请求相关的所有跟踪进行分组。</span><span class="sxs-lookup"><span data-stu-id="e90ad-557">Process Action activity: An activity that groups all traces related to a WCF request across two endpoints.</span></span> <span data-ttu-id="e90ad-558">如果配置中两个终结点上的 `propagateActivity` 都设置为 `true`，则会将来自两个终结点的所有跟踪合并为一个活动，以便直接关联。</span><span class="sxs-lookup"><span data-stu-id="e90ad-558">If `propagateActivity` is set to `true` on both endpoints in configuration, all traces from both endpoints are merged into one activity for direct correlation.</span></span> <span data-ttu-id="e90ad-559">此类活动将包含由于传输或安全处理、延伸到用户代码边界及回退（如果存在响应）而发生的错误。</span><span class="sxs-lookup"><span data-stu-id="e90ad-559">Such activity will contain errors due to transport or security processing, extending to the user code boundary and back (if a response exists).</span></span>|
|<span data-ttu-id="e90ad-560">![“处理消息”活动](./media/wcfc-executionactivityiconc.GIF "wcfc_ExecutionActivityIconc")</span><span class="sxs-lookup"><span data-stu-id="e90ad-560">![Process Message activity](./media/wcfc-executionactivityiconc.GIF "wcfc_ExecutionActivityIconc")</span></span>|<span data-ttu-id="e90ad-561">“执行用户代码”活动：一种可对用户代码跟踪进行分组以处理请求的活动。</span><span class="sxs-lookup"><span data-stu-id="e90ad-561">Execute User Code activity: An activity that groups user code traces for processing a request.</span></span>|

## <a name="troubleshooting"></a><span data-ttu-id="e90ad-562">疑难解答</span><span class="sxs-lookup"><span data-stu-id="e90ad-562">Troubleshooting</span></span>

<span data-ttu-id="e90ad-563">如果你没有写入注册表的权限，则当你使用 " `svctraceviewer /register` " 命令注册工具时，会收到以下错误消息： "未向系统注册 Microsoft 服务跟踪查看器"。</span><span class="sxs-lookup"><span data-stu-id="e90ad-563">If you do not have permission to write to the registry, you get the following error message "The Microsoft Service Trace Viewer was not registered to the system" when you use the "`svctraceviewer /register`" command to register the tool.</span></span> <span data-ttu-id="e90ad-564">如果出现这种情况，您应使用对注册表有写访问权限的帐户登录。</span><span class="sxs-lookup"><span data-stu-id="e90ad-564">If this occurs, you should log in using an account that has write access to the registry.</span></span>

<span data-ttu-id="e90ad-565">此外，服务跟踪查看器工具会将一些设置（例如，自定义筛选器和筛选器选项）写入其程序集文件夹中的 SvcTraceViewer.exe.settings 文件。</span><span class="sxs-lookup"><span data-stu-id="e90ad-565">In addition, the Service Trace Viewer tool writes some settings (for example, custom filters and filter options) to the SvcTraceViewer.exe.settings file in its assembly folder.</span></span> <span data-ttu-id="e90ad-566">如果没有该文件的读权限，您仍然能够启动工具，但无法加载设置。</span><span class="sxs-lookup"><span data-stu-id="e90ad-566">If you do not have read permission for the file, you can still launch the tool, but you cannot load the settings.</span></span>

<span data-ttu-id="e90ad-567">如果在打开 .etl 文件时收到错误消息“处理一个或多个跟踪时出现未知错误”，则意味着 .etl 文件的格式无效。</span><span class="sxs-lookup"><span data-stu-id="e90ad-567">If you get the error message "An unknown error occurred while processing one or more traces" when opening the .etl file, it means that the format of the .etl file is invalid.</span></span>

<span data-ttu-id="e90ad-568">如果打开使用阿拉伯语操作系统创建的跟踪日志，您可能会注意到时间筛选器不起作用。</span><span class="sxs-lookup"><span data-stu-id="e90ad-568">If you open a trace log created using an Arabic operating system, you may notice that the time filter does not work.</span></span> <span data-ttu-id="e90ad-569">例如，2005 年对应于阿拉伯日历中的 1427 年。</span><span class="sxs-lookup"><span data-stu-id="e90ad-569">For example, year 2005 corresponds to year 1427 in Arabic calendar.</span></span> <span data-ttu-id="e90ad-570">但是，服务跟踪查看器工具筛选器所支持的时间范围不支持早于 1752 年的日期。</span><span class="sxs-lookup"><span data-stu-id="e90ad-570">However, the time range supported by the Service Trace Viewer tool filter does not support a date earlier than 1752.</span></span> <span data-ttu-id="e90ad-571">这表示您不能在筛选器中选择正确的日期。</span><span class="sxs-lookup"><span data-stu-id="e90ad-571">This can imply that you are not able to select a correct date in the filter.</span></span> <span data-ttu-id="e90ad-572">若要解决此问题，可以使用 XPath 表达式创建自定义筛选器（**查看/自定义筛选器**）以包含特定的时间范围。</span><span class="sxs-lookup"><span data-stu-id="e90ad-572">To resolve this problem, you can create a custom filter (**View/Custom Filters**) using an XPath expression to include a specific time range.</span></span>

## <a name="see-also"></a><span data-ttu-id="e90ad-573">请参阅</span><span class="sxs-lookup"><span data-stu-id="e90ad-573">See also</span></span>

- [<span data-ttu-id="e90ad-574">使用服务跟踪查看器查看相关跟踪和进行故障诊断</span><span class="sxs-lookup"><span data-stu-id="e90ad-574">Using Service Trace Viewer for Viewing Correlated Traces and Troubleshooting</span></span>](./diagnostics/tracing/using-service-trace-viewer-for-viewing-correlated-traces-and-troubleshooting.md)
- [<span data-ttu-id="e90ad-575">配置跟踪</span><span class="sxs-lookup"><span data-stu-id="e90ad-575">Configuring Tracing</span></span>](./diagnostics/tracing/configuring-tracing.md)
- [<span data-ttu-id="e90ad-576">端对端跟踪</span><span class="sxs-lookup"><span data-stu-id="e90ad-576">End-to-End Tracing</span></span>](./diagnostics/tracing/end-to-end-tracing.md)
