---
title: 指定终结点地址
description: 了解终结点地址，即 WCF 中 ServiceEndpoint 的一部分。 与 WCF 服务的所有通信都通过其终结点进行。
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- endpoints [WCF], addressing
ms.assetid: ac24f5ad-9558-4298-b168-c473c68e819b
ms.openlocfilehash: e1bd9e5a27d1bc86d2d3e04ee82221a27a4e1fa8
ms.sourcegitcommit: 358a28048f36a8dca39a9fe6e6ac1f1913acadd5
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 06/23/2020
ms.locfileid: "85245979"
---
# <a name="specifying-an-endpoint-address"></a><span data-ttu-id="9d6f6-104">指定终结点地址</span><span class="sxs-lookup"><span data-stu-id="9d6f6-104">Specifying an Endpoint Address</span></span>

<span data-ttu-id="9d6f6-105">与 Windows Communication Foundation （WCF）服务的所有通信都通过其终结点进行。</span><span class="sxs-lookup"><span data-stu-id="9d6f6-105">All communication with a Windows Communication Foundation (WCF) service occurs through its endpoints.</span></span> <span data-ttu-id="9d6f6-106">每个 <xref:System.ServiceModel.Description.ServiceEndpoint> 都包含一个 <xref:System.ServiceModel.Description.ServiceEndpoint.Address%2A>、一个 <xref:System.ServiceModel.Description.ServiceEndpoint.Binding%2A> 和一个 <xref:System.ServiceModel.Description.ServiceEndpoint.Contract%2A>。</span><span class="sxs-lookup"><span data-stu-id="9d6f6-106">Each <xref:System.ServiceModel.Description.ServiceEndpoint> contains an <xref:System.ServiceModel.Description.ServiceEndpoint.Address%2A>, a <xref:System.ServiceModel.Description.ServiceEndpoint.Binding%2A>, and a <xref:System.ServiceModel.Description.ServiceEndpoint.Contract%2A>.</span></span> <span data-ttu-id="9d6f6-107">协定指定可用的操作。</span><span class="sxs-lookup"><span data-stu-id="9d6f6-107">The contract specifies which operations are available.</span></span> <span data-ttu-id="9d6f6-108">绑定指定如何与服务进行通信，而地址指定查找服务的位置。</span><span class="sxs-lookup"><span data-stu-id="9d6f6-108">The binding specifies how to communicate with the service, and the address specifies where to find the service.</span></span> <span data-ttu-id="9d6f6-109">每个终结点都必须具有一个唯一的地址。</span><span class="sxs-lookup"><span data-stu-id="9d6f6-109">Every endpoint must have a unique address.</span></span> <span data-ttu-id="9d6f6-110">终结点的地址由 <xref:System.ServiceModel.EndpointAddress> 类表示，该类包含一个表示服务地址的统一资源定位符 (URI)，一个表示服务的安全标识的 <xref:System.ServiceModel.EndpointAddress.Identity%2A> 和一个可选的 <xref:System.ServiceModel.EndpointAddress.Headers%2A> 集合。</span><span class="sxs-lookup"><span data-stu-id="9d6f6-110">The endpoint address is represented by the <xref:System.ServiceModel.EndpointAddress> class, which contains a Uniform Resource Identifier (URI) that represents the address of the service, an <xref:System.ServiceModel.EndpointAddress.Identity%2A>, which represents the security identity of the service, and a collection of optional <xref:System.ServiceModel.EndpointAddress.Headers%2A>.</span></span> <span data-ttu-id="9d6f6-111">可选标头提供用于标识终结点或与终结点交互的更多详细寻址信息。</span><span class="sxs-lookup"><span data-stu-id="9d6f6-111">The optional headers provide more detailed addressing information to identify or interact with the endpoint.</span></span> <span data-ttu-id="9d6f6-112">例如，标头可指示如何处理传入消息，终结点应发送答复消息的位置，或在多个实例可用时应使用哪个服务实例处理来自特定用户的传入消息。</span><span class="sxs-lookup"><span data-stu-id="9d6f6-112">For example, headers can indicate how to process an incoming message, where the endpoint should send a reply message, or which instance of a service to use to process an incoming message from a particular user when multiple instances are available.</span></span>

## <a name="definition-of-an-endpoint-address"></a><span data-ttu-id="9d6f6-113">终结点地址的定义</span><span class="sxs-lookup"><span data-stu-id="9d6f6-113">Definition of an Endpoint Address</span></span>

<span data-ttu-id="9d6f6-114">在 WCF 中，对 <xref:System.ServiceModel.EndpointAddress> ws-addressing 标准中定义的终结点引用（EPR）建模。</span><span class="sxs-lookup"><span data-stu-id="9d6f6-114">In WCF, an <xref:System.ServiceModel.EndpointAddress> models an endpoint reference (EPR) as defined in the WS-Addressing standard.</span></span>

<span data-ttu-id="9d6f6-115">大多数传输的地址 URI 包含四个部分。</span><span class="sxs-lookup"><span data-stu-id="9d6f6-115">The address URI for most transports has four parts.</span></span> <span data-ttu-id="9d6f6-116">例如，此 URI `http://www.fabrikam.com:322/mathservice.svc/secureEndpoint` 具有以下四个部分：</span><span class="sxs-lookup"><span data-stu-id="9d6f6-116">For example, this URI, `http://www.fabrikam.com:322/mathservice.svc/secureEndpoint` has the following four parts:</span></span>

- <span data-ttu-id="9d6f6-117">方案：http:</span><span class="sxs-lookup"><span data-stu-id="9d6f6-117">Scheme: http:</span></span>

- <span data-ttu-id="9d6f6-118">设备`www.fabrikam.com`</span><span class="sxs-lookup"><span data-stu-id="9d6f6-118">Machine: `www.fabrikam.com`</span></span>

- <span data-ttu-id="9d6f6-119">（可选）端口：322</span><span class="sxs-lookup"><span data-stu-id="9d6f6-119">(Optional) Port: 322</span></span>

- <span data-ttu-id="9d6f6-120">路径：/mathservice.svc/secureEndpoint</span><span class="sxs-lookup"><span data-stu-id="9d6f6-120">Path: /mathservice.svc/secureEndpoint</span></span>

<span data-ttu-id="9d6f6-121">作为 EPR 模型的一部分，每个终结点引用都可以包含一些添加额外标识信息的引用参数。</span><span class="sxs-lookup"><span data-stu-id="9d6f6-121">Part of the EPR model is that each endpoint reference can carry some reference parameters that add extra identifying information.</span></span> <span data-ttu-id="9d6f6-122">在 WCF 中，这些引用参数建模为类的实例 <xref:System.ServiceModel.Channels.AddressHeader> 。</span><span class="sxs-lookup"><span data-stu-id="9d6f6-122">In WCF, these reference parameters are modeled as instances of the <xref:System.ServiceModel.Channels.AddressHeader> class.</span></span>

<span data-ttu-id="9d6f6-123">可以通过使用代码以强制方式或通过配置以声明方式指定服务的终结点地址。</span><span class="sxs-lookup"><span data-stu-id="9d6f6-123">The endpoint address for a service can be specified either imperatively by using code or declaratively through configuration.</span></span> <span data-ttu-id="9d6f6-124">在代码中定义终结点通常是不可行的，因为已部署服务的绑定和地址通常与在部署服务时所用的绑定和地址不同。</span><span class="sxs-lookup"><span data-stu-id="9d6f6-124">Defining endpoints in code is usually not practical because the bindings and addresses for a deployed service are typically different from those used while the service is being developed.</span></span> <span data-ttu-id="9d6f6-125">一般而言，使用配置定义服务终结点比使用代码更为可行。</span><span class="sxs-lookup"><span data-stu-id="9d6f6-125">Generally, it is more practical to define service endpoints using configuration rather than code.</span></span> <span data-ttu-id="9d6f6-126">通过将绑定和寻址信息放置在代码之外，可以在更改这些信息之后不必重新编译和重新部署应用程序。</span><span class="sxs-lookup"><span data-stu-id="9d6f6-126">Keeping the binding and addressing information out of the code allows them to change without having to recompile and redeploy the application.</span></span> <span data-ttu-id="9d6f6-127">如果在代码或配置中未指定任何终结点，则运行时在该服务实现的每个协定的每个基地址上添加一个默认终结点。</span><span class="sxs-lookup"><span data-stu-id="9d6f6-127">If no endpoints are specified in code or in configuration, then the runtime adds one default endpoint on each base address for each contract implemented by the service.</span></span>

<span data-ttu-id="9d6f6-128">可以通过两种方法在 WCF 中指定服务的终结点地址。</span><span class="sxs-lookup"><span data-stu-id="9d6f6-128">There are two ways to specify endpoint addresses for a service in WCF.</span></span> <span data-ttu-id="9d6f6-129">可以为每个与服务关联的终结点指定一个绝对地址，也可以为服务的 <xref:System.ServiceModel.ServiceHost> 提供一个基址，然后再为每个与此服务关联的终结点指定一个地址（该地址是相对于此基址定义的）。</span><span class="sxs-lookup"><span data-stu-id="9d6f6-129">You can specify an absolute address for each endpoint associated with the service or you can provide a base address for the <xref:System.ServiceModel.ServiceHost> of a service and then specify an address for each endpoint associated with this service that is defined relative to this base address.</span></span> <span data-ttu-id="9d6f6-130">可以在配置或代码中使用这两种过程来为服务指定终结点地址。</span><span class="sxs-lookup"><span data-stu-id="9d6f6-130">You can use each of these procedures to specify the endpoint addresses for a service in either configuration or code.</span></span> <span data-ttu-id="9d6f6-131">如果不指定相对地址，则服务会使用基址。</span><span class="sxs-lookup"><span data-stu-id="9d6f6-131">If you do not specify a relative address, the service uses the base address.</span></span> <span data-ttu-id="9d6f6-132">也可以为一个服务指定多个基址，但是对于每个传输协议，每个服务只允许有一个基址。</span><span class="sxs-lookup"><span data-stu-id="9d6f6-132">You can also have multiple base addresses for a service, but each service is allowed only one base address for each transport.</span></span> <span data-ttu-id="9d6f6-133">如果有多个终结点，则会使用不同的绑定来配置每个终结点，它们的地址必须是唯一的。</span><span class="sxs-lookup"><span data-stu-id="9d6f6-133">If you have multiple endpoints, each of which is configured with a different binding, their addresses must be unique.</span></span> <span data-ttu-id="9d6f6-134">使用相同绑定但使用不同协定的终结点可以使用相同的地址。</span><span class="sxs-lookup"><span data-stu-id="9d6f6-134">Endpoints that use the same binding but different contracts can use the same address.</span></span>

<span data-ttu-id="9d6f6-135">使用 IIS 承载时，您不用自己管理 <xref:System.ServiceModel.ServiceHost> 实例。</span><span class="sxs-lookup"><span data-stu-id="9d6f6-135">When hosting with IIS, you do not manage the <xref:System.ServiceModel.ServiceHost> instance yourself.</span></span> <span data-ttu-id="9d6f6-136">在 IIS 中承载时，基址始终为在服务的 .svc 文件中指定的地址。</span><span class="sxs-lookup"><span data-stu-id="9d6f6-136">The base address is always the address specified in the .svc file for the service when hosting in IIS.</span></span> <span data-ttu-id="9d6f6-137">因此，必须对 IIS 承载的服务终结点使用相对终结点地址。</span><span class="sxs-lookup"><span data-stu-id="9d6f6-137">So you must use relative endpoint addresses for IIS-hosted service endpoints.</span></span> <span data-ttu-id="9d6f6-138">提供完全限定的终结点地址会在服务的部署过程中导致错误。</span><span class="sxs-lookup"><span data-stu-id="9d6f6-138">Supplying a fully-qualified endpoint address can lead to errors in the deployment of the service.</span></span> <span data-ttu-id="9d6f6-139">有关详细信息，请参阅[部署 Internet Information Services 承载的 WCF 服务](./feature-details/deploying-an-internet-information-services-hosted-wcf-service.md)。</span><span class="sxs-lookup"><span data-stu-id="9d6f6-139">For more information, see [Deploying an Internet Information Services-Hosted WCF Service](./feature-details/deploying-an-internet-information-services-hosted-wcf-service.md).</span></span>

## <a name="defining-endpoint-addresses-in-configuration"></a><span data-ttu-id="9d6f6-140">在配置中定义终结点地址</span><span class="sxs-lookup"><span data-stu-id="9d6f6-140">Defining Endpoint Addresses in Configuration</span></span>

<span data-ttu-id="9d6f6-141">若要在配置文件中定义终结点，请使用 [\<endpoint>](../configure-apps/file-schema/wcf/endpoint-element.md) 元素。</span><span class="sxs-lookup"><span data-stu-id="9d6f6-141">To define an endpoint in a configuration file, use the [\<endpoint>](../configure-apps/file-schema/wcf/endpoint-element.md) element.</span></span>

[!code-xml[S_UEHelloWorld#5](./snippets/specifying-an-endpoint-address/serviceapp2.config#5)]

<span data-ttu-id="9d6f6-142"><xref:System.ServiceModel.Channels.CommunicationObject.Open%2A>调用方法时（即，当宿主应用程序尝试启动服务时），系统将查找 [\<service>](../configure-apps/file-schema/wcf/service.md) 名称属性指定 "UE" 的元素。HelloService "。</span><span class="sxs-lookup"><span data-stu-id="9d6f6-142">When the <xref:System.ServiceModel.Channels.CommunicationObject.Open%2A> method is called (that is, when the hosting application attempts to start the service), the system looks for a [\<service>](../configure-apps/file-schema/wcf/service.md) element with a name attribute that specifies "UE.Samples.HelloService".</span></span> <span data-ttu-id="9d6f6-143">如果 [\<service>](../configure-apps/file-schema/wcf/service.md) 找到该元素，系统将加载指定的类并使用配置文件中提供的终结点定义创建终结点。</span><span class="sxs-lookup"><span data-stu-id="9d6f6-143">If the [\<service>](../configure-apps/file-schema/wcf/service.md) element is found, the system loads the specified class and creates endpoints using the endpoint definitions provided in the configuration file.</span></span> <span data-ttu-id="9d6f6-144">此机制允许您将绑定和寻址信息放置在代码之外，而用两行代码来加载和启动服务。</span><span class="sxs-lookup"><span data-stu-id="9d6f6-144">This mechanism allows you to load and start a service with two lines of code while keeping binding and addressing information out of your code.</span></span> <span data-ttu-id="9d6f6-145">此方法的优点是在进行这些更改后不必重新编译或重新部署应用程序。</span><span class="sxs-lookup"><span data-stu-id="9d6f6-145">The advantage of this approach is that these changes can be made without having to recompile or redeploy the application.</span></span>

<span data-ttu-id="9d6f6-146">可选标头在中声明 [\<headers>](../configure-apps/file-schema/wcf/headers-element.md) 。</span><span class="sxs-lookup"><span data-stu-id="9d6f6-146">The optional headers are declared in a [\<headers>](../configure-apps/file-schema/wcf/headers-element.md).</span></span> <span data-ttu-id="9d6f6-147">下面是一个元素的示例，用于在配置文件中指定服务的终结点，以区分两个标头： "黄金" 客户端 `http://tempuri1.org/` 和 "标准" 客户端 `http://tempuri2.org/` 。</span><span class="sxs-lookup"><span data-stu-id="9d6f6-147">The following is an example of the elements used to specify endpoints for a service in a configuration file that distinguishes between two headers: "Gold" clients from `http://tempuri1.org/` and "Standard" clients from `http://tempuri2.org/`.</span></span> <span data-ttu-id="9d6f6-148">调用此服务的客户端 [\<headers>](../configure-apps/file-schema/wcf/headers-element.md) 在其配置文件中必须具有相应的。</span><span class="sxs-lookup"><span data-stu-id="9d6f6-148">The client calling this service must have the appropriate [\<headers>](../configure-apps/file-schema/wcf/headers-element.md) in its configuration file.</span></span>

[!code-xml[S_UEHelloWorld#1](./snippets/specifying-an-endpoint-address/serviceapp.config#1)]

<span data-ttu-id="9d6f6-149">也可以为个别消息而不是终结点上的所有消息（如前面所示）设置标头。</span><span class="sxs-lookup"><span data-stu-id="9d6f6-149">Headers can also be set on individual messages instead of all messages on an endpoint (as shown previously).</span></span> <span data-ttu-id="9d6f6-150">可以通过使用 <xref:System.ServiceModel.OperationContextScope> 在客户端应用程序中创建新的上下文以向传出消息添加自定义标头，完成此操作，如以下示例中所示。</span><span class="sxs-lookup"><span data-stu-id="9d6f6-150">This is done by using <xref:System.ServiceModel.OperationContextScope> to create a new context in a client application to add a custom header to the outgoing message, as shown in the following example.</span></span>

[!code-csharp[OperationContextScope#4](../../../samples/snippets/csharp/VS_Snippets_CFX/operationcontextscope/cs/client.cs#4)]
[!code-vb[OperationContextScope#4](../../../samples/snippets/visualbasic/VS_Snippets_CFX/operationcontextscope/vb/client.vb#4)]

## <a name="endpoint-address-in-metadata"></a><span data-ttu-id="9d6f6-151">元数据中的终结点地址</span><span class="sxs-lookup"><span data-stu-id="9d6f6-151">Endpoint Address in Metadata</span></span>

<span data-ttu-id="9d6f6-152">终结点地址在 Web 服务描述语言 (WSDL) 中表示为对应终结点的 `EndpointReference` 元素内的 WS-Addressing `wsdl:port` (EPR) 元素。</span><span class="sxs-lookup"><span data-stu-id="9d6f6-152">An endpoint address is represented in Web Services Description Language (WSDL) as a WS-Addressing `EndpointReference` (EPR) element inside the corresponding endpoint's `wsdl:port` element.</span></span> <span data-ttu-id="9d6f6-153">EPR 包含终结点的地址以及所有的地址属性。</span><span class="sxs-lookup"><span data-stu-id="9d6f6-153">The EPR contains the endpoint's address as well as any address properties.</span></span> <span data-ttu-id="9d6f6-154">请注意，`wsdl:port` 内的 EPR 可替换 `soap:Address`，如下面的示例所示。</span><span class="sxs-lookup"><span data-stu-id="9d6f6-154">Note that the EPR inside `wsdl:port` replaces `soap:Address` as seen in the following example.</span></span>

## <a name="defining-endpoint-addresses-in-code"></a><span data-ttu-id="9d6f6-155">在代码中定义终结点地址</span><span class="sxs-lookup"><span data-stu-id="9d6f6-155">Defining Endpoint Addresses in Code</span></span>

<span data-ttu-id="9d6f6-156">在代码中可以使用 <xref:System.ServiceModel.EndpointAddress> 类创建终结点地址。</span><span class="sxs-lookup"><span data-stu-id="9d6f6-156">An endpoint address can be created in code with the <xref:System.ServiceModel.EndpointAddress> class.</span></span> <span data-ttu-id="9d6f6-157">为终结点地址指定的 URI 可以是完全限定的路径，也可以是相对于服务的基址的路径。</span><span class="sxs-lookup"><span data-stu-id="9d6f6-157">The URI specified for the endpoint address can be a fully-qualified path or a path that is relative to the service's base address.</span></span> <span data-ttu-id="9d6f6-158">下面的代码演示如何创建 <xref:System.ServiceModel.EndpointAddress> 类的实例，并将其添加到承载服务的 <xref:System.ServiceModel.ServiceHost> 实例中。</span><span class="sxs-lookup"><span data-stu-id="9d6f6-158">The following code illustrates how to create an instance of the <xref:System.ServiceModel.EndpointAddress> class and add it to the <xref:System.ServiceModel.ServiceHost> instance that is hosting the service.</span></span>

<span data-ttu-id="9d6f6-159">下面的示例演示如何在代码中指定完整的终结点地址。</span><span class="sxs-lookup"><span data-stu-id="9d6f6-159">The following example demonstrates how to specify the full endpoint address in code.</span></span>

[!code-csharp[S_UEHelloWorld#2](../../../samples/snippets/csharp/VS_Snippets_CFX/s_uehelloworld/cs/snippet.cs#2)]

<span data-ttu-id="9d6f6-160">下面的示例演示将相对地址（“MyService”）添加到服务主机的基址中。</span><span class="sxs-lookup"><span data-stu-id="9d6f6-160">The following example demonstrates how to add a relative address ("MyService") to the base address of the service host.</span></span>

[!code-csharp[S_UEHelloWorld#3](../../../samples/snippets/csharp/VS_Snippets_CFX/s_uehelloworld/cs/snippet.cs#3)]

> [!NOTE]
> <span data-ttu-id="9d6f6-161">服务应用程序中 <xref:System.ServiceModel.Description.ServiceDescription> 的属性不能在 <xref:System.ServiceModel.Channels.CommunicationObject.OnOpening%2A> 上的 <xref:System.ServiceModel.ServiceHostBase> 方法之后进行修改。</span><span class="sxs-lookup"><span data-stu-id="9d6f6-161">Properties of the <xref:System.ServiceModel.Description.ServiceDescription> in the service application must not be modified subsequent to the <xref:System.ServiceModel.Channels.CommunicationObject.OnOpening%2A> method on <xref:System.ServiceModel.ServiceHostBase>.</span></span> <span data-ttu-id="9d6f6-162">如果在该点之后修改某些成员（如 <xref:System.ServiceModel.ServiceHostBase.Credentials%2A> 属性以及 `AddServiceEndpoint` 和 <xref:System.ServiceModel.ServiceHostBase> 上的 <xref:System.ServiceModel.ServiceHost> 方法），则将引发异常。</span><span class="sxs-lookup"><span data-stu-id="9d6f6-162">Some members, such as the <xref:System.ServiceModel.ServiceHostBase.Credentials%2A> property and the `AddServiceEndpoint` methods on <xref:System.ServiceModel.ServiceHostBase> and <xref:System.ServiceModel.ServiceHost>, throw an exception if modified after that point.</span></span> <span data-ttu-id="9d6f6-163">允许修改其他成员，但结果不可确定。</span><span class="sxs-lookup"><span data-stu-id="9d6f6-163">Others permit you to modify them, but the result is undefined.</span></span>
>
> <span data-ttu-id="9d6f6-164">同样，在调用 <xref:System.ServiceModel.Description.ServiceEndpoint> 上的 <xref:System.ServiceModel.Channels.CommunicationObject.OnOpening%2A> 之后不能在客户端上修改 <xref:System.ServiceModel.ChannelFactory> 值。</span><span class="sxs-lookup"><span data-stu-id="9d6f6-164">Similarly, on the client the <xref:System.ServiceModel.Description.ServiceEndpoint> values must not be modified after the call to <xref:System.ServiceModel.Channels.CommunicationObject.OnOpening%2A> on the <xref:System.ServiceModel.ChannelFactory>.</span></span> <span data-ttu-id="9d6f6-165">如果在该点之后修改 <xref:System.ServiceModel.ChannelFactory.Credentials%2A> 属性，则该属性将引发异常。</span><span class="sxs-lookup"><span data-stu-id="9d6f6-165">The <xref:System.ServiceModel.ChannelFactory.Credentials%2A> property throws an exception if modified after that point.</span></span> <span data-ttu-id="9d6f6-166">可以对其他客户端说明值进行修改而不会出现错误，但结果不可确定。</span><span class="sxs-lookup"><span data-stu-id="9d6f6-166">The other client description values can be modified without error, but the result is undefined.</span></span>
>
> <span data-ttu-id="9d6f6-167">无论是对于服务还是客户端，建议您在调用 <xref:System.ServiceModel.Channels.CommunicationObject.Open%2A> 之前修改说明。</span><span class="sxs-lookup"><span data-stu-id="9d6f6-167">Whether for the service or client, it is recommended that you modify the description prior to calling <xref:System.ServiceModel.Channels.CommunicationObject.Open%2A>.</span></span>

## <a name="using-default-endpoints"></a><span data-ttu-id="9d6f6-168">使用默认终结点</span><span class="sxs-lookup"><span data-stu-id="9d6f6-168">Using Default Endpoints</span></span>

<span data-ttu-id="9d6f6-169">如果在代码或配置中未指定任何终结点，则运行时通过在该服务实现的每个服务协定的每个基地址上添加一个默认终结点，来提供默认终结点。</span><span class="sxs-lookup"><span data-stu-id="9d6f6-169">If no endpoints are specified in code or in configuration then the runtime provides default endpoints by adding one default endpoint on each base address for each service contract implemented by the service.</span></span> <span data-ttu-id="9d6f6-170">可以在代码或配置中指定基地址，默认终结点是在 <xref:System.ServiceModel.Channels.CommunicationObject.Open%2A> 上调用 <xref:System.ServiceModel.ServiceHost> 时添加的。</span><span class="sxs-lookup"><span data-stu-id="9d6f6-170">The base address can be specified in code or in configuration, and the default endpoints are added when <xref:System.ServiceModel.Channels.CommunicationObject.Open%2A> is called on the <xref:System.ServiceModel.ServiceHost>.</span></span>

<span data-ttu-id="9d6f6-171">如果显式提供了终结点，则仍可以添加默认终结点，方法是先在 <xref:System.ServiceModel.ServiceHostBase.AddDefaultEndpoints%2A> 上调用 <xref:System.ServiceModel.ServiceHost>，然后调用 <xref:System.ServiceModel.Channels.CommunicationObject.Open%2A>。</span><span class="sxs-lookup"><span data-stu-id="9d6f6-171">If endpoints are explicitly provided, the default endpoints can still be added by calling <xref:System.ServiceModel.ServiceHostBase.AddDefaultEndpoints%2A> on the <xref:System.ServiceModel.ServiceHost> before calling <xref:System.ServiceModel.Channels.CommunicationObject.Open%2A>.</span></span> <span data-ttu-id="9d6f6-172">有关默认终结点、绑定和行为的详细信息，请参阅[简化配置](simplified-configuration.md)和 [WCF 服务的简化配置](./samples/simplified-configuration-for-wcf-services.md)。</span><span class="sxs-lookup"><span data-stu-id="9d6f6-172">For more information about default endpoints, bindings, and behaviors, see [Simplified Configuration](simplified-configuration.md) and [Simplified Configuration for WCF Services](./samples/simplified-configuration-for-wcf-services.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="9d6f6-173">请参阅</span><span class="sxs-lookup"><span data-stu-id="9d6f6-173">See also</span></span>

- <xref:System.ServiceModel.EndpointAddress>
- [<span data-ttu-id="9d6f6-174">服务标识和身份验证</span><span class="sxs-lookup"><span data-stu-id="9d6f6-174">Service Identity and Authentication</span></span>](./feature-details/service-identity-and-authentication.md)
- [<span data-ttu-id="9d6f6-175">终结点创建概述</span><span class="sxs-lookup"><span data-stu-id="9d6f6-175">Endpoint Creation Overview</span></span>](endpoint-creation-overview.md)
- [<span data-ttu-id="9d6f6-176">承载</span><span class="sxs-lookup"><span data-stu-id="9d6f6-176">Hosting</span></span>](./feature-details/hosting.md)
